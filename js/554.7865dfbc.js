"use strict";(self["webpackChunksave_world_web_tg_app"]=self["webpackChunksave_world_web_tg_app"]||[]).push([[554],{1241:function(e,t){t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[s,i]of t)a[s]=i;return a}},6311:function(e,t,a){a.d(t,{A:function(){return P}});var s=a(6768),i=a(4232),n=a.p+"img/home.57a09072.svg",r=a.p+"img/tasks.0c2a5f02.svg",l=a.p+"img/mining.43e8cd0a.svg",o=a.p+"img/karma.0e9901cf.svg",c=a.p+"img/frens.48f51b71.svg",u=a(144),v=a(2225);const d={key:0},g={class:"container"},k={class:"footer-content"},p={key:0,src:n,alt:""},m={key:1,class:"active-nav-item"},h={key:0,src:r,alt:""},_={key:1,class:"active-nav-item"},L={key:0,src:l,alt:""},f={key:1,class:"active-nav-item"},w={key:0,src:o,alt:""},b={key:1,class:"active-nav-item"},y={key:0,src:c,alt:""},B={key:1,class:"active-nav-item"};var C=(0,s.pM)({__name:"TheFooter",setup(e){const t=(0,u.KR)(!0);return(0,s.sV)((()=>{v.B.on("toggleFooterVisibility",(e=>{t.value=e}))})),(0,s.hi)((()=>{v.B.off("toggleFooterVisibility")})),(e,a)=>{const u=(0,s.g2)("router-link");return t.value?((0,s.uX)(),(0,s.CE)("footer",d,[(0,s.Lk)("div",g,[(0,s.Lk)("nav",k,[(0,s.bF)(u,{to:"/",class:(0,i.C4)({"ac-nav-item":"/"===e.$route.path,"nav-item":"/"!==e.$route.path})},{default:(0,s.k6)((()=>["/"!==e.$route.path?((0,s.uX)(),(0,s.CE)("img",p)):(0,s.Q3)("",!0),"/"===e.$route.path?((0,s.uX)(),(0,s.CE)("div",m,[a[0]||(a[0]=(0,s.Lk)("img",{src:n,alt:""},null,-1)),(0,s.Lk)("p",null,(0,i.v_)(e.t("home")),1)])):(0,s.Q3)("",!0)])),_:1},8,["class"]),(0,s.bF)(u,{to:"/tasks",class:(0,i.C4)({"ac-nav-item":"/tasks"===e.$route.path,"nav-item":"/tasks"!==e.$route.path})},{default:(0,s.k6)((()=>["/tasks"!==e.$route.path?((0,s.uX)(),(0,s.CE)("img",h)):(0,s.Q3)("",!0),"/tasks"===e.$route.path?((0,s.uX)(),(0,s.CE)("div",_,[a[1]||(a[1]=(0,s.Lk)("img",{src:r,alt:""},null,-1)),(0,s.Lk)("p",null,(0,i.v_)(e.t("tasks")),1)])):(0,s.Q3)("",!0)])),_:1},8,["class"]),(0,s.bF)(u,{to:"/mining",class:(0,i.C4)({"ac-nav-item":"/mining"===e.$route.path,"nav-item":"/mining"!==e.$route.path})},{default:(0,s.k6)((()=>["/mining"!==e.$route.path?((0,s.uX)(),(0,s.CE)("img",L)):(0,s.Q3)("",!0),"/mining"===e.$route.path?((0,s.uX)(),(0,s.CE)("div",f,[a[2]||(a[2]=(0,s.Lk)("img",{src:l,alt:""},null,-1)),(0,s.Lk)("p",null,(0,i.v_)(e.t("mining")),1)])):(0,s.Q3)("",!0)])),_:1},8,["class"]),(0,s.bF)(u,{to:"/karma",class:(0,i.C4)({"ac-nav-item":"/karma"===e.$route.path,"nav-item":"/karma"!==e.$route.path})},{default:(0,s.k6)((()=>["/karma"!==e.$route.path?((0,s.uX)(),(0,s.CE)("img",w)):(0,s.Q3)("",!0),"/karma"===e.$route.path?((0,s.uX)(),(0,s.CE)("div",b,[a[3]||(a[3]=(0,s.Lk)("img",{src:o,alt:""},null,-1)),(0,s.Lk)("p",null,(0,i.v_)(e.t("karma")),1)])):(0,s.Q3)("",!0)])),_:1},8,["class"]),(0,s.bF)(u,{to:"/friends",class:(0,i.C4)({"ac-nav-item":"/friends"===e.$route.path,"nav-item":"/friends"!==e.$route.path})},{default:(0,s.k6)((()=>["/friends"!==e.$route.path?((0,s.uX)(),(0,s.CE)("img",y)):(0,s.Q3)("",!0),"/friends"===e.$route.path?((0,s.uX)(),(0,s.CE)("div",B,[a[4]||(a[4]=(0,s.Lk)("img",{src:c,alt:""},null,-1)),(0,s.Lk)("p",null,(0,i.v_)(e.t("frens")),1)])):(0,s.Q3)("",!0)])),_:1},8,["class"])])])])):(0,s.Q3)("",!0)}}}),E=a(1241);const $=(0,E.A)(C,[["__scopeId","data-v-c73e5768"]]);var P=$},193:function(e,t,a){a.d(t,{A:function(){return L}});var s=a(6768),i=a(4232),n=a.p+"img/back-btn.c27f779a.svg",r=a.p+"img/settings.3acc1d2e.svg",l=a(144),o=a(2225),c=a(2756),u=a(5931);const v={class:"container"},d={class:"header-content"},g={class:"user"},k={class:"user-wrapper"},p=["src"];var m={__name:"TheHeader",setup(e){const{t:t,locale:a}=(0,u.s9)(),m=(0,l.KR)(!1),h=(0,l.KR)(!1),_=(0,s.EW)((()=>(0,c.v)().userData)),L=(0,l.KR)(""),f=(0,s.EW)((()=>(0,c.v)().telegramWebApp.isFullscreen));(0,s.wB)(f,(e=>{L.value=e?"header-margin-calc":"header-margin-default"}),{immediate:!0}),(0,s.sV)((()=>{o.B.on("toggleHeaderBackBtnVisibility",(e=>{m.value=e})),o.B.on("disableSettingButton",(e=>{h.value=e}))})),(0,s.hi)((()=>{o.B.off("toggleHeaderBackBtnVisibility"),o.B.off("toggleSettingsButton")}));const w=()=>{o.B.emit("headerBackBtnPressed")};return(e,t)=>{const a=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("header",{class:(0,i.C4)(L.value)},[(0,s.Lk)("div",v,[(0,s.Lk)("div",d,[m.value?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"back-btn",onClick:w},t[0]||(t[0]=[(0,s.Lk)("img",{src:n,alt:""},null,-1)]))):(0,s.Q3)("",!0),(0,s.Lk)("div",g,[(0,s.Lk)("div",k,[(0,s.Lk)("img",{src:_.value.avatar,alt:"Avatar"},null,8,p),(0,s.Lk)("p",null,(0,i.v_)(_.value.username),1)])]),h.value?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(a,{key:1,to:"/settings",class:"settings-wrapper"},{default:(0,s.k6)((()=>t[1]||(t[1]=[(0,s.Lk)("img",{src:r,alt:"Настройки"},null,-1)]))),_:1}))])])],2)}}},h=a(1241);const _=(0,h.A)(m,[["__scopeId","data-v-213c605f"]]);var L=_},2096:function(e,t,a){a.r(t),a.d(t,{default:function(){return ge}});var s=a(6768),i=a(193),n=a(6311),r=a(4232),l=a(144),o=a(4462),c=a.p+"img/time.6a9b4e9f.svg",u=a(5234),v=a(4373),d=a(5903),g=a(5931),k=a(5628);const p={id:0,user_id:0,username:"string",referrer_id:0,is_banned:!1,is_deleted:!1,referral_code:"string",balance:{balance:0,mining_power:0},settings:{language:"en",vibration:!1,animation:!1},done_tasks:[],user_cards:[],karma_donates:[],minings:[{amount:0,status:"pending",start_time:"2025-02-03T13:07:16.660503",end_time:"2025-02-03T13:07:16.660503",is_claimed:!1}],referrer:{id:0,user_id:0,username:"string",referrer_id:0,is_banned:!1,is_deleted:!1,referral_code:"string"}},m=(0,u.nY)("profile",{state:()=>({userProfile:p}),actions:{setProfileVariables(e){this.userProfile=e;const{locale:t}=(0,g.s9)();t.value=e.settings?.language||"en"},async getUserProfile(){try{const e=await v.A.get(`${d.$.backendURL}/api/v1/users/?extra=all`,{withCredentials:!0});(0,k.B)(e),this.setProfileVariables(e.data)}catch(e){throw console.error("Ошибка при получении профиля пользователя:",e),new Error("Server error when getting the user profile")}},async startMining(){try{const e=await v.A.post(`${d.$.backendURL}/api/v1/users/start-mining`,{withCredentials:!0});(0,k.B)(e)}catch(e){throw console.error("Ошибка при получении профиля пользователя:",e),new Error("Server error when getting the user profile")}},async claimMining(){try{const e=await v.A.post(`${d.$.backendURL}/api/v1/users/claim-mining`,{withCredentials:!0});(0,k.B)(e)}catch(e){throw console.error("Ошибка при получении награды за процесс:",e),new Error("Server error when claiming reward")}}},getters:{getBalance(e){return e.userProfile.balance?.balance},getPower(e){return e.userProfile.balance?.mining_power},getMiningInfo(e){const t=e.userProfile.minings[0],a=new Date(t.end_time).getTime(),s=new Date(t.start_time).getTime(),i=Date.now(),n=60*(new Date).getTimezoneOffset()*1e3,r=-108e5,l=a+n-r,o=s+n-r,c=l-i,u=i-o,v=l-o,d=Math.floor(c/36e5),g=Math.floor(c%36e5/6e4),k=Math.floor(c/1e3),p=Math.floor(u/1e3),m=Math.floor(v/1e3);return{...t,remainingHours:d,remainingMinutes:g,remainingSeconds:k,elapsedSeconds:p,totalSeconds:m}}}});var h=a(2225);const _={class:"stats-section"},L={class:"container"},f={class:"stats-content"},w={class:"stats-wrapper"},b={class:"stats__item stats__item--balance"},y={class:"amount"},B={class:"stats__item stats__item--mining-speed"},C={class:"amount"},E={class:"mining-progress-wrapper"},$={class:"mining-progress-bar"},P={class:"interface"},X={class:"time"},W={key:1,class:"progress"},R={class:"interface"},M={class:"time"};var Q=(0,s.pM)({__name:"StatsSection",setup(e){const{t:t,locale:a}=(0,g.s9)(),i=m(),n=(0,s.EW)((()=>i.getBalance)),u=(0,s.EW)((()=>i.getPower)),v=(0,s.EW)((()=>i.getMiningInfo)),d=(0,s.EW)((()=>"pending"===v.value.status?"claim-button--active":"claim-button")),k=(0,s.EW)((()=>String(v.value.remainingSeconds/v.value.elapsedSeconds*100)+"%")),p=()=>{i.claimMining()},Q=async()=>{try{await i.getUserProfile()}catch(e){h.B.emit("showErrorPopup",e.message)}};return(0,s.sV)((async()=>{await Q()})),(e,a)=>((0,s.uX)(),(0,s.CE)("section",_,[(0,s.Lk)("div",L,[(0,s.Lk)("div",f,[(0,s.Lk)("div",w,[(0,s.Lk)("div",b,[(0,s.Lk)("p",null,(0,r.v_)((0,l.R1)(t)("your-balance")),1),(0,s.Lk)("div",y,[(0,s.eW)((0,r.v_)(n.value)+" ",1),a[0]||(a[0]=(0,s.Lk)("img",{src:o,alt:""},null,-1))])]),(0,s.Lk)("div",B,[(0,s.Lk)("p",null,(0,r.v_)((0,l.R1)(t)("mining-speed")),1),(0,s.Lk)("div",C,[(0,s.eW)(" + "+(0,r.v_)(u.value)+"/"+(0,r.v_)((0,l.R1)(t)("h"))+" ",1),a[1]||(a[1]=(0,s.Lk)("img",{src:o,alt:""},null,-1))])])]),(0,s.Lk)("div",E,[(0,s.Lk)("div",$,["pending"===v.value.status?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"progress",style:(0,r.Tr)({width:k.value})},[(0,s.Lk)("div",P,[(0,s.Lk)("button",{onClick:p,class:(0,r.C4)(d.value)},(0,r.v_)((0,l.R1)(t)("claim")),3),(0,s.Lk)("div",X,[a[2]||(a[2]=(0,s.Lk)("img",{src:c,alt:""},null,-1)),(0,s.Lk)("p",null,(0,r.v_)(v.value.remainingHours)+" "+(0,r.v_)((0,l.R1)(t)("h"))+" "+(0,r.v_)(v.value.remainingMinutes)+" "+(0,r.v_)((0,l.R1)(t)("m")),1)])])],4)):(0,s.Q3)("",!0),"completed"===v.value.status?((0,s.uX)(),(0,s.CE)("div",W,[(0,s.Lk)("div",R,[(0,s.Lk)("button",{onClick:p,class:(0,r.C4)(d.value)},(0,r.v_)((0,l.R1)(t)("claim")),3),(0,s.Lk)("div",M,[a[3]||(a[3]=(0,s.Lk)("img",{src:c,alt:""},null,-1)),(0,s.Lk)("p",null,(0,r.v_)(v.value.remainingHours)+" "+(0,r.v_)((0,l.R1)(t)("h"))+" "+(0,r.v_)(v.value.remainingMinutes)+" "+(0,r.v_)((0,l.R1)(t)("m")),1)])])])):(0,s.Q3)("",!0)])])])])]))}}),S=a(1241);const A=(0,S.A)(Q,[["__scopeId","data-v-2647dd83"]]);var V=A,F=a.p+"img/bg-earth-vectors.e11176ba.svg",T=a.p+"img/earth.9898a300.png";const H={class:"logo"};var D=(0,s.pM)({__name:"EarthSection",setup(e){const t=()=>{h.B.emit("toggleWorldStatictics",!0)};return(e,a)=>((0,s.uX)(),(0,s.CE)("section",H,[(0,s.Lk)("div",{class:"container"},[(0,s.Lk)("div",{class:"logo-wrapper",onClick:t},a[0]||(a[0]=[(0,s.Lk)("div",{class:"background"},[(0,s.Lk)("img",{src:F,alt:""})],-1),(0,s.Lk)("div",{class:"circle"},null,-1),(0,s.Lk)("img",{class:"earth",src:T,alt:""},null,-1)]))])]))}});const I=(0,S.A)(D,[["__scopeId","data-v-fd3c2016"]]);var K=I;const U=(0,u.nY)("world-population",{state:()=>({worldPopulation:{}}),actions:{async getWorldPopulation(){try{const e=await v.A.get(`${d.$.worldPopulationURL}`);return e.data}catch(e){throw console.error("Ошибка при получении данных о населении:",e),new Error("Server error when getting the population statistics")}}},getters:{}}),Y={class:"world-population-section"},x={class:"container"},G={class:"world-population-content"},N={class:"stats-list"},O={class:"stats-item"},z={class:"title"},j={class:"stats-item"},q={class:"title"},J={class:"stats-item"},Z={class:"title"},ee={class:"stats-item"},te={class:"title"},ae={class:"stats-item"},se={class:"title"},ie={class:"stats-item"},ne={class:"title"},re={class:"stats-item"},le={class:"title"};var oe=(0,s.pM)({__name:"TheWorldPopulation",setup(e){const t=(0,l.KR)(""),a=U();return(0,s.sV)((async()=>{h.B.emit("toggleHeaderBackBtnVisibility",!0);try{t.value=await a.getWorldPopulation()}catch(e){h.B.emit("showErrorPopup",e.message)}})),(0,s.xo)((()=>{h.B.emit("toggleHeaderBackBtnVisibility",!1)})),(e,a)=>((0,s.uX)(),(0,s.CE)("section",Y,[(0,s.Lk)("div",x,[(0,s.Lk)("div",G,[a[13]||(a[13]=(0,s.Lk)("h2",null,"World Population",-1)),(0,s.Lk)("div",N,[(0,s.Lk)("div",O,[(0,s.Lk)("p",z,(0,r.v_)(t.value.population),1),a[0]||(a[0]=(0,s.Lk)("p",{class:"hint"},"Current World Population",-1))]),a[7]||(a[7]=(0,s.Lk)("hr",null,null,-1)),(0,s.Lk)("div",j,[(0,s.Lk)("p",q,(0,r.v_)(t.value.birthsYear),1),a[1]||(a[1]=(0,s.Lk)("p",{class:"hint"},"Births this year",-1))]),a[8]||(a[8]=(0,s.Lk)("hr",null,null,-1)),(0,s.Lk)("div",J,[(0,s.Lk)("p",Z,(0,r.v_)(t.value.birthsToday),1),a[2]||(a[2]=(0,s.Lk)("p",{class:"hint"},"Births today",-1))]),a[9]||(a[9]=(0,s.Lk)("hr",null,null,-1)),(0,s.Lk)("div",ee,[(0,s.Lk)("p",te,(0,r.v_)(t.value.deathsYear),1),a[3]||(a[3]=(0,s.Lk)("p",{class:"hint"},"Deaths this year",-1))]),a[10]||(a[10]=(0,s.Lk)("hr",null,null,-1)),(0,s.Lk)("div",ae,[(0,s.Lk)("p",se,(0,r.v_)(t.value.deathsToday),1),a[4]||(a[4]=(0,s.Lk)("p",{class:"hint"},"Deaths today",-1))]),a[11]||(a[11]=(0,s.Lk)("hr",null,null,-1)),(0,s.Lk)("div",ie,[(0,s.Lk)("p",ne,(0,r.v_)(t.value.netPopulationGrowthYear),1),a[5]||(a[5]=(0,s.Lk)("p",{class:"hint"},"Net population growth this year",-1))]),a[12]||(a[12]=(0,s.Lk)("hr",null,null,-1)),(0,s.Lk)("div",re,[(0,s.Lk)("p",le,(0,r.v_)(t.value.netPopulationGrowthToday),1),a[6]||(a[6]=(0,s.Lk)("p",{class:"hint"},"Net population growth today",-1))])])])])]))}});const ce=(0,S.A)(oe,[["__scopeId","data-v-54e10760"]]);var ue=ce,ve=(0,s.pM)({__name:"HomeView",setup(e){const t=(0,l.KR)(!1);return(0,s.sV)((()=>{h.B.on("toggleWorldStatictics",(e=>{t.value=e})),h.B.on("headerBackBtnPressed",(()=>{t.value=!1}))})),(0,s.hi)((()=>{h.B.off("toggleWorldStatictics"),h.B.off("headerBackBtnPressed")})),(e,a)=>((0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(i.A),(0,s.Lk)("main",null,[t.value?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(V,{key:0})),t.value?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(K,{key:1})),t.value?((0,s.uX)(),(0,s.Wv)(ue,{key:2})):(0,s.Q3)("",!0)]),(0,s.bF)(n.A)],64))}});const de=ve;var ge=de},4462:function(e,t,a){e.exports=a.p+"img/green-coin.5547f652.svg"}}]);
//# sourceMappingURL=554.7865dfbc.js.map