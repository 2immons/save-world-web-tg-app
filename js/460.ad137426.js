"use strict";(self["webpackChunksave_world_web_tg_app"]=self["webpackChunksave_world_web_tg_app"]||[]).push([[460],{7197:function(t,s,a){a.d(s,{L:function(){return c}});var e=a(5234),i=a(4373),o=a(5903),r=a(2756),l=a(5628);const c=(0,e.nY)("tasks",{state:()=>({categories:[{cat_id:0,title:"Social",tasks:[{id:0,title:"Task 1",url:"https://vk.com/al_feed.php",status:"VERIFYING"},{id:1,title:"Tasks 2",url:"https://vk.com/al_feed.php",status:"CLAIMED"},{id:2,title:"Task 1",url:"https://vk.com/al_feed.php",status:"COMPLETED"},{id:3,title:"Tasks 2",url:"https://vk.com/al_feed.php",status:"NOT_STARTED"},{id:4,title:"Tasks 3",url:"https://vk.com/al_feed.php",status:"NOT_STARTED"}]},{cat_id:1,title:"Social 2",tasks:[{id:5,title:"Task 1",url:"https://vk.com/al_feed.php",status:"VERIFYING"},{id:6,title:"Tasks 2",url:"https://vk.com/al_feed.php",status:"CLAIMED"},{id:7,title:"Task 1",url:"https://vk.com/al_feed.php",status:"COMPLETED"},{id:8,title:"Tasks 2",url:"https://vk.com/al_feed.php",status:"NOT_STARTED"},{id:9,title:"Tasks 3",url:"https://vk.com/al_feed.php",status:"NOT_STARTED"}]},{cat_id:2,title:"Social 3",tasks:[{id:10,title:"Task 1",url:"https://vk.com/al_feed.php",status:"VERIFYING"},{id:11,title:"Tasks 2",url:"https://vk.com/al_feed.php",status:"CLAIMED"},{id:12,title:"Task 1",url:"https://vk.com/al_feed.php",status:"COMPLETED"}]}],promoTasks:[{promo_task_id:0,title:"Recycle",description:"Recycle 5 batteries.",promo_task_status:"NOT_STARTED",tasks:[{id:0,title:"Task 1",url:"https://vk.com/al_feed.php",status:"VERIFYING"},{id:1,title:"Tasks 2",url:"https://vk.com/al_feed.php",status:"CLAIMED"},{id:2,title:"Task 1",url:"https://vk.com/al_feed.php",status:"COMPLETED"},{id:3,title:"Tasks 2",url:"https://vk.com/al_feed.php",status:"NOT_STARTED"},{id:4,title:"Tasks 3",url:"https://vk.com/al_feed.php",status:"NOT_STARTED"}]},{promo_task_id:1,title:"Animals",description:"Recycle 5 batteries.",promo_task_status:"NOT_STARTED",tasks:[{id:5,title:"Task 1",url:"https://vk.com/al_feed.php",status:"VERIFYING"},{id:6,title:"Tasks 2",url:"https://vk.com/al_feed.php",status:"CLAIMED"},{id:7,title:"Task 1",url:"https://vk.com/al_feed.php",status:"COMPLETED"},{id:8,title:"Tasks 2",url:"https://vk.com/al_feed.php",status:"NOT_STARTED"},{id:9,title:"Tasks 3",url:"https://vk.com/al_feed.php",status:"NOT_STARTED"}]}]}),actions:{async fetchTasks(){try{const t=(0,r.v)().ensureValidationQuery(),s=await i.A.post(`${o.$.backendURL}/api/cards/get-karma`,t);(0,l.B)(s),this.categories=s.data.data.tasks,this.promoTasks=s.data.data.promoTasks}catch(t){throw console.error("Ошибка при получении заданий:",t),new Error("Server error when getting tasks list")}},acceptTask(t){const s=this.categories.find((s=>s.tasks.some((s=>s.id===t.id))));if(s){const a=s.tasks.find((s=>s.id===t.id));a&&(a.status="VERIFYING",setTimeout((()=>{a.status="COMPLETED"}),5e3))}},acceptPromoTask(t){const s=this.promoTasks.find((s=>s.tasks.some((s=>s.id===t.id))));if(s){const a=s.tasks.find((s=>s.id===t.id));if(a){a.status="VERIFYING",s.promo_task_status="IN_PROGRESS",setTimeout((()=>{a.status="COMPLETED"}),5e3);let t=!0;s.tasks.forEach((s=>{"COMPLETED"===s.status||(t=!1)})),t&&(s.promo_task_status="COMPLETED")}}},claimPromoTaskReward(t){const s=this.promoTasks.find((s=>s.promo_task_id===t.promo_task_id));s&&(t.promo_task_status="CLAIMED")},claimReward(t){const s=this.categories.find((s=>s.tasks.some((s=>s.id===t.id))));if(s){const a=s.tasks.find((s=>s.id===t.id));a&&(a.status="CLAIMED")}},async joinQuest(t){const s=await i.A.post(o.$.backendURL+"/orders/join-quest",{quest:t,withCredentials:!0});if(201!==s.status)throw new Error("Не удалось создать обращение. Неправильный статус ответа от сервера: "+s.status)}},getters:{}})},7093:function(t,s,a){a.r(s),a.d(s,{default:function(){return X}});var e=a(6768),i=a(386),o=a(3981),r=a(4232),l=a(7197),c=a(144),d=a.p+"img/bg-vectors.ad2c577b.svg",n=a(4462);const p={class:"stats-wrapper"};var u=(0,e.pM)({__name:"FriendsStats",setup(t){(0,l.L)();return(t,s)=>((0,e.uX)(),(0,e.CE)("div",p,s[0]||(s[0]=[(0,e.Fv)('<div class="earned-coins-box" data-v-5c1cb3b2><img src="'+d+'" alt="" class="bg-image" data-v-5c1cb3b2><div class="bg-ellepsis" data-v-5c1cb3b2></div><p data-v-5c1cb3b2>You Earned:</p><div class="coins" data-v-5c1cb3b2><p data-v-5c1cb3b2>+ 6399 <img src="'+n+'" alt="" data-v-5c1cb3b2></p><button data-v-5c1cb3b2>Claim</button></div></div><div class="help" data-v-5c1cb3b2><p class="info" data-v-5c1cb3b2>?</p><p data-v-5c1cb3b2> Lorem ipsum dolor sit amet consectetur. Aliquam laoreet non pulvinar arcu pharetra cursus gravida nulla </p></div>',2)])))}}),k=a(1241);const v=(0,k.A)(u,[["__scopeId","data-v-5c1cb3b2"]]);var _=v,h=a(5234),m=a(4373),T=a(5903),f=a(2756),E=a(5628);const b=(0,h.nY)("friends",{state:()=>({friends:[{name:"Имя",boost:10,total:20},{name:"Имя",boost:10,total:20},{name:"Имя",boost:10,total:20},{name:"Имя",boost:10,total:20},{name:"Имя",boost:10,total:20}]}),actions:{async fetchFriends(){try{const t=(0,f.v)().ensureValidationQuery(),s=await m.A.post(`${T.$.backendURL}/api/cards/get-karma`,t);(0,E.B)(s),this.friends=s.data.data.friends}catch(t){throw console.error("Ошибка при получении друзей:",t),new Error("Server error when getting friends list")}},async joinQuest(t){const s=await m.A.post(T.$.backendURL+"/orders/join-quest",{quest:t,withCredentials:!0});if(201!==s.status)throw new Error("Не удалось создать обращение. Неправильный статус ответа от сервера: "+s.status)}},getters:{}}),L={class:"friend"},R={class:"info"},g={class:"name"},A={class:"boost"},I={class:"total"};var C=(0,e.pM)({__name:"FriendItem",props:{friend:{}},setup(t){b();return(t,s)=>((0,e.uX)(),(0,e.CE)(e.FK,null,[(0,e.Lk)("div",L,[s[2]||(s[2]=(0,e.Lk)("div",{class:"photo"},null,-1)),(0,e.Lk)("div",R,[(0,e.Lk)("p",g,(0,r.v_)(t.friend.name),1),(0,e.Lk)("p",A,[s[0]||(s[0]=(0,e.Lk)("img",{src:n,alt:""},null,-1)),(0,e.eW)(" + "+(0,r.v_)(t.friend.boost),1)])]),(0,e.Lk)("div",I,[(0,e.Lk)("p",null,[(0,e.eW)(" + "+(0,r.v_)(t.friend.total)+" ",1),s[1]||(s[1]=(0,e.Lk)("img",{src:n,alt:""},null,-1))])])]),s[3]||(s[3]=(0,e.Lk)("hr",null,null,-1))],64))}});const w=(0,k.A)(C,[["__scopeId","data-v-010502ff"]]);var D=w;const F={class:"friends-list"},M={class:"list"};var O=(0,e.pM)({__name:"FriendsList",setup(t){const s=b(),a=(0,e.EW)((()=>s.friends));return(t,s)=>((0,e.uX)(),(0,e.CE)("div",F,[s[0]||(s[0]=(0,e.Lk)("div",{class:"list-header"},[(0,e.Lk)("p",null,"6 Friends"),(0,e.Lk)("button",null,"Invite +")],-1)),(0,e.Lk)("div",M,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(a.value,((t,s)=>((0,e.uX)(),(0,e.Wv)(D,{key:s,friend:t},null,8,["friend"])))),128))])]))}});const S=(0,k.A)(O,[["__scopeId","data-v-3db4a34a"]]);var N=S;const y={class:"quests"},P={class:"container"},V={class:"quests-content"};var K=(0,e.pM)({__name:"FriendsSection",setup(t){(0,c.KR)();const s=(0,c.KR)(!0),a=(0,c.KR)(!1),i=t=>{const e=t.target;s.value=0===e.scrollLeft,a.value=e.scrollLeft+e.offsetWidth>=e.scrollWidth};(0,e.sV)((()=>{const t=document.querySelector(".nav");t&&t.addEventListener("scroll",i)}));(0,c.KR)(10),(0,c.KR)(!1),(0,c.KR)(!1);const o=(0,l.L)();(0,e.EW)((()=>o.promoTasks)),(0,c.KR)(0),(0,e.EW)((()=>o.categories));return(t,s)=>((0,e.uX)(),(0,e.CE)("section",y,[(0,e.Lk)("div",P,[(0,e.Lk)("div",V,[(0,e.Lk)("h2",null,(0,r.v_)(t.t("invite-friends")),1),(0,e.bF)(_),(0,e.bF)(N)])])]))}});const Y=(0,k.A)(K,[["__scopeId","data-v-15ee99c8"]]);var q=Y,G=(0,e.pM)({__name:"FriendsView",setup(t){return(t,s)=>((0,e.uX)(),(0,e.CE)(e.FK,null,[(0,e.bF)(i.A),(0,e.Lk)("main",null,[(0,e.bF)(q)]),(0,e.bF)(o.A)],64))}});const W=G;var X=W},4462:function(t,s,a){t.exports=a.p+"img/green-coin.5547f652.svg"}}]);
//# sourceMappingURL=460.ad137426.js.map