"use strict";(self["webpackChunksave_world_web_tg_app"]=self["webpackChunksave_world_web_tg_app"]||[]).push([[657],{1100:function(e,t,s){s.r(t),s.d(t,{default:function(){return de}});var a=s(6768),l=s(7016),n=s(3981),i=s(4232),r=s(144),o=s(4462),c=s.p+"img/time.6a9b4e9f.svg",u=s(5234),v=s(4373),p=s(5903),d=s(5931),k=s(2756),g=s(5628);const h=(0,u.nY)("profile",{state:()=>({balance:4e4,newSpeed:.36,chatId:"",name:"",process:{state:"closed",remainingSeconds:122,totalProcessSeconds:28800,miningResult:300}}),actions:{setProfileVariables(e){const{locale:t}=(0,d.s9)(),s=e.process;this.process.state=s.state,"ACTIVE"===this.process.state&&(this.process.remainingSeconds=s.remainingSeconds),this.balance=e.balance,this.newSpeed=e.newSpeed,this.chatId=e.chatId,this.name=e.name,t.value=e.language||"en"},async getUserProfile(){try{const e=(0,k.v)().ensureWebAppData(),t=await v.A.post(`${p.$.backendURL}/api/profile/myProfile`,e);(0,g.B)(t),this.setProfileVariables(t.data)}catch(e){throw console.error("Ошибка при получении профиля пользователя:",e),new Error("Server error when getting the user profile")}},async claimProcessReward(){try{const e=(0,k.v)().ensureWebAppData(),t=await v.A.post(`${p.$.backendURL}/api/profile/myProfile`,e);(0,g.B)(t)}catch(e){throw console.error("Ошибка при получении награды за процесс:",e),new Error("Server error when claiming reward")}}},getters:{getBalance(e){return e.balance},getNewSpeed(e){return e.newSpeed.toFixed(2)},getRemainingSeconds(e){return e.process.remainingSeconds},getTotalProcessSeconds(e){return e.process.totalProcessSeconds},getProcessState(e){return e.process.state}}}),L={class:"stats-section"},m={class:"container"},_={class:"stats-content"},w={class:"stats-wrapper"},b={class:"stats__item stats__item--balance"},y={class:"amount"},S={class:"stats__item stats__item--mining-speed"},f={class:"amount"},P={class:"mining-progress-wrapper"},B={class:"mining-progress-bar"},W={class:"interface"},R={class:"time"},E={key:1,class:"progress"},C={class:"interface"},A={class:"time"};var V=(0,a.pM)({__name:"StatsSection",setup(e){const{t:t,locale:s}=(0,d.s9)(),l=h(),n=(0,a.EW)((()=>l.getNewSpeed)),u=(0,a.EW)((()=>l.getBalance)),v=(0,a.EW)((()=>l.getProcessState)),p=(0,a.EW)((()=>"active"===v.value?"claim-button--active":"claim-button")),g=(0,a.EW)((()=>l.getRemainingSeconds)),V=(0,a.EW)((()=>l.getTotalProcessSeconds)),X=(0,a.EW)((()=>String(g.value/V.value*100)+"%")),T=(0,r.KR)(Math.floor(g.value/60)),I=(0,r.KR)(g.value%60),$=()=>{l.claimProcessReward()},K=async()=>{try{await l.getUserProfile()}catch(e){const t=(0,k.v)();t.showAlert(e.message)}};return(0,a.sV)((async()=>{await K()})),(e,s)=>((0,a.uX)(),(0,a.CE)("section",L,[(0,a.Lk)("div",m,[(0,a.Lk)("div",_,[(0,a.Lk)("div",w,[(0,a.Lk)("div",b,[(0,a.Lk)("p",null,(0,i.v_)((0,r.R1)(t)("your-balance")),1),(0,a.Lk)("div",y,[(0,a.eW)((0,i.v_)(u.value)+" ",1),s[0]||(s[0]=(0,a.Lk)("img",{src:o,alt:""},null,-1))])]),(0,a.Lk)("div",S,[(0,a.Lk)("p",null,(0,i.v_)((0,r.R1)(t)("mining-speed")),1),(0,a.Lk)("div",f,[(0,a.eW)(" + "+(0,i.v_)(n.value)+"/"+(0,i.v_)((0,r.R1)(t)("h"))+" ",1),s[1]||(s[1]=(0,a.Lk)("img",{src:o,alt:""},null,-1))])])]),(0,a.Lk)("div",P,[(0,a.Lk)("div",B,["active"===v.value?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"progress",style:(0,i.Tr)({width:X.value})},[(0,a.Lk)("div",W,[(0,a.Lk)("button",{onClick:$},"Claim"),(0,a.Lk)("div",R,[s[2]||(s[2]=(0,a.Lk)("img",{src:c,alt:""},null,-1)),(0,a.Lk)("p",null,(0,i.v_)(T.value)+" "+(0,i.v_)((0,r.R1)(t)("h"))+" "+(0,i.v_)(I.value)+" "+(0,i.v_)((0,r.R1)(t)("m")),1)])])],4)):(0,a.Q3)("",!0),"closed"===v.value?((0,a.uX)(),(0,a.CE)("div",E,[(0,a.Lk)("div",C,[(0,a.Lk)("button",{onClick:$,class:(0,i.C4)(p.value)},(0,i.v_)((0,r.R1)(t)("claim")),3),(0,a.Lk)("div",A,[s[3]||(s[3]=(0,a.Lk)("img",{src:c,alt:""},null,-1)),(0,a.Lk)("p",null,(0,i.v_)(T.value)+" "+(0,i.v_)((0,r.R1)(t)("h"))+" "+(0,i.v_)(I.value)+" "+(0,i.v_)((0,r.R1)(t)("m")),1)])])])):(0,a.Q3)("",!0)])])])])]))}}),X=s(1241);const T=(0,X.A)(V,[["__scopeId","data-v-5de41fd5"]]);var I=T,$=s.p+"img/bg-earth-vectors.e11176ba.svg",K=s.p+"img/earth.9898a300.png",M=s(2225);const Q={class:"logo"};var U=(0,a.pM)({__name:"EarthSection",setup(e){const t=()=>{M.B.emit("toggleWorldStatictics",!0)};return(e,s)=>((0,a.uX)(),(0,a.CE)("section",Q,[(0,a.Lk)("div",{class:"container"},[(0,a.Lk)("div",{class:"logo-wrapper",onClick:t},s[0]||(s[0]=[(0,a.Lk)("div",{class:"background"},[(0,a.Lk)("img",{src:$,alt:""})],-1),(0,a.Lk)("div",{class:"circle"},null,-1),(0,a.Lk)("img",{class:"earth",src:K,alt:""},null,-1)]))])]))}});const Y=(0,X.A)(U,[["__scopeId","data-v-fd3c2016"]]);var D=Y;const F=(0,u.nY)("world-population",{state:()=>({worldPopulation:{}}),actions:{async getWorldPopulation(){try{const e=await v.A.get(`${p.$.worldPopulationURL}`);return e.data}catch(e){throw console.error("Ошибка при получении данных о населении:",e),new Error("Server error when getting the population statistics")}}},getters:{}}),N={class:"world-population-section"},x={class:"container"},H={class:"world-population-content"},G={class:"stats-list"},j={class:"stats-item"},q={class:"title"},z={class:"stats-item"},J={class:"title"},O={class:"stats-item"},Z={class:"title"},ee={class:"stats-item"},te={class:"title"},se={class:"stats-item"},ae={class:"title"},le={class:"stats-item"},ne={class:"title"},ie={class:"stats-item"},re={class:"title"};var oe=(0,a.pM)({__name:"TheWorldPopulation",setup(e){const t=(0,r.KR)(""),s=F();return(0,a.sV)((async()=>{M.B.emit("toggleHeaderBackBtnVisibility",!0);try{t.value=await s.getWorldPopulation()}catch(e){M.B.emit("showErrorPopup",e.message)}})),(0,a.xo)((()=>{M.B.emit("toggleHeaderBackBtnVisibility",!1)})),(e,s)=>((0,a.uX)(),(0,a.CE)("section",N,[(0,a.Lk)("div",x,[(0,a.Lk)("div",H,[s[13]||(s[13]=(0,a.Lk)("h2",null,"World Population",-1)),(0,a.Lk)("div",G,[(0,a.Lk)("div",j,[(0,a.Lk)("p",q,(0,i.v_)(t.value.population),1),s[0]||(s[0]=(0,a.Lk)("p",{class:"hint"},"Current World Population",-1))]),s[7]||(s[7]=(0,a.Lk)("hr",null,null,-1)),(0,a.Lk)("div",z,[(0,a.Lk)("p",J,(0,i.v_)(t.value.birthsYear),1),s[1]||(s[1]=(0,a.Lk)("p",{class:"hint"},"Births this year",-1))]),s[8]||(s[8]=(0,a.Lk)("hr",null,null,-1)),(0,a.Lk)("div",O,[(0,a.Lk)("p",Z,(0,i.v_)(t.value.birthsToday),1),s[2]||(s[2]=(0,a.Lk)("p",{class:"hint"},"Births today",-1))]),s[9]||(s[9]=(0,a.Lk)("hr",null,null,-1)),(0,a.Lk)("div",ee,[(0,a.Lk)("p",te,(0,i.v_)(t.value.deathsYear),1),s[3]||(s[3]=(0,a.Lk)("p",{class:"hint"},"Deaths this year",-1))]),s[10]||(s[10]=(0,a.Lk)("hr",null,null,-1)),(0,a.Lk)("div",se,[(0,a.Lk)("p",ae,(0,i.v_)(t.value.deathsToday),1),s[4]||(s[4]=(0,a.Lk)("p",{class:"hint"},"Deaths today",-1))]),s[11]||(s[11]=(0,a.Lk)("hr",null,null,-1)),(0,a.Lk)("div",le,[(0,a.Lk)("p",ne,(0,i.v_)(t.value.netPopulationGrowthYear),1),s[5]||(s[5]=(0,a.Lk)("p",{class:"hint"},"Net population growth this year",-1))]),s[12]||(s[12]=(0,a.Lk)("hr",null,null,-1)),(0,a.Lk)("div",ie,[(0,a.Lk)("p",re,(0,i.v_)(t.value.netPopulationGrowthToday),1),s[6]||(s[6]=(0,a.Lk)("p",{class:"hint"},"Net population growth today",-1))])])])])]))}});const ce=(0,X.A)(oe,[["__scopeId","data-v-54e10760"]]);var ue=ce,ve=(0,a.pM)({__name:"HomeView",setup(e){const t=(0,r.KR)(!1);return(0,a.sV)((()=>{M.B.on("toggleWorldStatictics",(e=>{t.value=e})),M.B.on("headerBackBtnPressed",(()=>{t.value=!1}))})),(0,a.hi)((()=>{M.B.off("toggleWorldStatictics"),M.B.off("headerBackBtnPressed")})),(e,s)=>((0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(l.A),(0,a.Lk)("main",null,[t.value?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(I,{key:0})),t.value?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(D,{key:1})),t.value?((0,a.uX)(),(0,a.Wv)(ue,{key:2})):(0,a.Q3)("",!0)]),(0,a.bF)(n.A)],64))}});const pe=ve;var de=pe},4462:function(e,t,s){e.exports=s.p+"img/green-coin.5547f652.svg"}}]);
//# sourceMappingURL=657.8804e96e.js.map