"use strict";(self["webpackChunksave_world_web_tg_app"]=self["webpackChunksave_world_web_tg_app"]||[]).push([[102],{5548:function(t,s,a){a.d(s,{L:function(){return o}});var e=a(5234),l=a(4373),i=a(3957);const o=(0,e.nY)("quests",{state:()=>({categories:[{id:0,title:"Social",tasks:[{id:0,title:"Task 1",url:"https://vk.com/al_feed.php",status:"VERIFYING"},{id:1,title:"Tasks 2",url:"https://vk.com/al_feed.php",status:"CLAIMED"},{id:2,title:"Task 1",url:"https://vk.com/al_feed.php",status:"COMPLETED"},{id:3,title:"Tasks 2",url:"https://vk.com/al_feed.php",status:"NOT_STARTED"},{id:4,title:"Tasks 3",url:"https://vk.com/al_feed.php",status:"NOT_STARTED"}]},{id:1,title:"Social 2",tasks:[{id:5,title:"Task 1",url:"https://vk.com/al_feed.php",status:"VERIFYING"},{id:6,title:"Tasks 2",url:"https://vk.com/al_feed.php",status:"CLAIMED"},{id:7,title:"Task 1",url:"https://vk.com/al_feed.php",status:"COMPLETED"},{id:8,title:"Tasks 2",url:"https://vk.com/al_feed.php",status:"NOT_STARTED"},{id:9,title:"Tasks 3",url:"https://vk.com/al_feed.php",status:"NOT_STARTED"}]}],promoTasks:[{title:"Quest Name 1",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis fringilla, metus sit amet volutpat convallis, neque sem ullamcorper."},{title:"Quest Name 2",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis fringilla, metus sit amet volutpat convallis, neque sem ullamcorper."},{title:"Quest Name 3",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis fringilla, metus sit amet volutpat convallis, neque sem ullamcorper."},{title:"Quest Name 4",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis fringilla, metus sit amet volutpat convallis, neque sem ullamcorper."}]}),actions:{fetchQuests(){return this.promoTasks},acceptTask(t){const s=this.categories.find((s=>s.tasks.some((s=>s.id===t.id))));if(s){const a=s.tasks.find((s=>s.id===t.id));a&&(a.status="VERIFYING",setTimeout((()=>{a.status="COMPLETED"}),5e3))}},claimReward(t){const s=this.categories.find((s=>s.tasks.some((s=>s.id===t.id))));if(s){const a=s.tasks.find((s=>s.id===t.id));a&&(a.status="CLAIMED")}},async joinQuest(t){const s=await l.A.post(i.$.backendURL+"/orders/join-quest",{quest:t,withCredentials:!0});if(201!==s.status)throw new Error("Не удалось создать обращение. Неправильный статус ответа от сервера: "+s.status)}},getters:{}})},9564:function(t,s,a){a.r(s),a.d(s,{default:function(){return x}});var e=a(6768),l=a(9273),i=a(1020),o=a(4232),c=a(5548),r=a(144),u=a.p+"img/bg-vectores--promo-task.ee3e09b0.svg",n=a.p+"img/green-coin--small.1c407025.svg";const d={class:"promo-task-wrapper"};var v=(0,e.pM)({__name:"PromoTask",setup(t){(0,c.L)();return(t,s)=>((0,e.uX)(),(0,e.CE)("div",d,s[0]||(s[0]=[(0,e.Fv)('<div class="promo-task-box" data-v-70a98d18><img src="'+u+'" alt="" class="bg-image" data-v-70a98d18><div class="bg-ellepsis" data-v-70a98d18></div><p class="title" data-v-70a98d18>Recycle</p><p class="name" data-v-70a98d18>Recycle 5 battaries.</p><div class="footer" data-v-70a98d18><button data-v-70a98d18>Continue</button><div class="benefits" data-v-70a98d18><p data-v-70a98d18> + 699 <img src="'+n+'" alt="" data-v-70a98d18></p></div><div class="loader-wrapper" data-v-70a98d18><div class="loader" data-v-70a98d18></div></div></div></div>',1)])))}}),p=a(1241);const k=(0,p.A)(v,[["__scopeId","data-v-70a98d18"]]);var m=k,_=a.p+"img/battery.e2012877.svg",g=a(4462),f=a(5234);const E={class:"task-item"},y={class:"left-side"},T={class:"info"},C={key:0,class:"loader-wrapper"},h={key:1,class:"claimed-wrapper"};var L=(0,e.pM)({__name:"TaskItem",props:{task:{}},setup(t){const s=(0,c.L)(),a=t,{categories:l}=(0,f.bP)(s),i=(0,e.EW)((()=>{const t=l.value.find((t=>t.tasks.some((t=>t.id===a.task.id)))),s=t?.tasks.find((t=>t.id===a.task.id));return s||a.task})),r=async()=>{try{window.open(i.value.url,"_blank"),s.acceptTask(i.value)}catch(t){return void console.error(t)}},u=async()=>{try{s.claimReward(i.value)}catch(t){return void console.error(t)}};return(t,s)=>((0,e.uX)(),(0,e.CE)("div",E,[(0,e.Lk)("div",y,[s[1]||(s[1]=(0,e.Lk)("img",{src:_,alt:""},null,-1)),(0,e.Lk)("div",T,[(0,e.Lk)("h3",null,(0,o.v_)(i.value.title),1),s[0]||(s[0]=(0,e.Lk)("div",{class:"income"},[(0,e.Lk)("p",null,"+ 699"),(0,e.Lk)("img",{src:g,alt:""})],-1))])]),"VERIFYING"===i.value.status?((0,e.uX)(),(0,e.CE)("div",C,s[2]||(s[2]=[(0,e.Lk)("div",{class:"loader"},null,-1)]))):(0,e.Q3)("",!0),"CLAIMED"===i.value.status?((0,e.uX)(),(0,e.CE)("div",h,s[3]||(s[3]=[(0,e.Lk)("p",null,"Completed",-1)]))):"NOT_STARTED"===i.value.status?((0,e.uX)(),(0,e.CE)("button",{key:2,onClick:r},(0,o.v_)(t.t("accept-task")),1)):"COMPLETED"===i.value.status?((0,e.uX)(),(0,e.CE)("button",{key:3,onClick:u},(0,o.v_)(t.t("claim-task")),1)):(0,e.Q3)("",!0)]))}});const b=(0,p.A)(L,[["__scopeId","data-v-7cf5de43"]]);var w=b;const I={key:0,class:"task-category__tasks"};var R=(0,e.pM)({__name:"TasksCategory",props:{activeCategory:{},category:{}},emits:["clicked"],setup(t,{emit:s}){const a=t;return(t,s)=>a.activeCategory===a.category.id?((0,e.uX)(),(0,e.CE)("div",I,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(a.category.tasks,((t,s)=>((0,e.uX)(),(0,e.Wv)(w,{class:"task-category__task",key:s,task:t},null,8,["task"])))),128))])):(0,e.Q3)("",!0)}});const X=(0,p.A)(R,[["__scopeId","data-v-34fd69f6"]]);var D=X;const A={class:"quests"},M={class:"container"},N={class:"quests-content"},Q={key:1},F={class:"regular-tasks"},q={class:"nav-wrapper"},K={class:"nav no-scrollbar"},O=["onClick"],S={key:0,class:"nav-overlay nav-overlay--left"},W={key:1,class:"nav-overlay nav-overlay--right"};var P=(0,e.pM)({__name:"TasksSection",setup(t){const s=(0,r.KR)(!0),a=(0,r.KR)(!1),l=t=>{const e=t.target;s.value=0===e.scrollLeft,a.value=e.scrollLeft+e.offsetWidth>=e.scrollWidth};(0,e.sV)((()=>{const t=document.querySelector(".nav");t&&t.addEventListener("scroll",l)}));const i=(0,r.KR)(10),u=(0,r.KR)(!0),n=(0,r.KR)(!1),d=(0,c.L)(),v=((0,e.EW)((()=>d.promoTasks)),(0,e.EW)((()=>d.categories))),p=(0,r.KR)(0),k=t=>{p.value=t},_=t=>t===p.value?"category-title--active":"category-title";return(t,l)=>((0,e.uX)(),(0,e.CE)("section",A,[(0,e.Lk)("div",M,[(0,e.Lk)("div",N,[(0,e.Lk)("h2",null,[(0,e.eW)((0,o.v_)(t.t("tasks"))+" ",1),(0,e.Lk)("span",null,(0,o.v_)(i.value),1)]),u.value?((0,e.uX)(),(0,e.Wv)(m,{key:0})):(0,e.Q3)("",!0),n.value?((0,e.uX)(),(0,e.CE)("h3",Q,(0,o.v_)(t.t("weekly")),1)):(0,e.Q3)("",!0),(0,e.Lk)("div",F,[(0,e.Lk)("div",q,[(0,e.Lk)("div",K,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(v.value,((t,s)=>((0,e.uX)(),(0,e.CE)("button",{key:s,class:(0,o.C4)(_(s)),onClick:t=>k(s)},(0,o.v_)(t.title),11,O)))),128))]),s.value?(0,e.Q3)("",!0):((0,e.uX)(),(0,e.CE)("div",S)),a.value?(0,e.Q3)("",!0):((0,e.uX)(),(0,e.CE)("div",W))]),((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(v.value,((t,s)=>((0,e.uX)(),(0,e.Wv)(D,{class:"tasks-nav",key:s,category:t,activeCategory:p.value},null,8,["category","activeCategory"])))),128))])])])]))}});const V=(0,p.A)(P,[["__scopeId","data-v-367c3199"]]);var Y=V,G=(0,e.pM)({__name:"TasksView",setup(t){return(t,s)=>((0,e.uX)(),(0,e.CE)(e.FK,null,[(0,e.bF)(l.A),(0,e.Lk)("main",null,[(0,e.bF)(Y)]),(0,e.bF)(i.A)],64))}});const j=G;var x=j},4462:function(t,s,a){t.exports=a.p+"img/green-coin.40870ff4.svg"}}]);
//# sourceMappingURL=102.8ed28202.js.map