"use strict";(self["webpackChunksave_world_web_tg_app"]=self["webpackChunksave_world_web_tg_app"]||[]).push([[539],{7761:function(a,e,s){s.r(e),s.d(e,{default:function(){return Ca}});var t=s(6768),r=s(5284),l=s(3981),o=s(4232),i=s(144),u=s(5234),d=s(4373),c=s(5903),n=s(2756),k=s(5628);const v=(0,u.nY)("karma",{state:()=>({categories:[{id:0,title:"Recycle",karmaCards:[{title:"Title",price:10,boost:10,goal:1e3,raised:100,isPurchased:!1,userDonat:0,status:"ACTIVE"},{title:"Title",price:10,boost:10,goal:1e3,raised:100,userDonat:12,isPurchased:!0,status:"ACTIVE"},{title:"Title",price:10,boost:10,goal:1e3,raised:1e3,userDonat:12,isPurchased:!0,status:"CLOSED"}]},{id:1,title:"Medicine",karmaCards:[{title:"Title",price:10,boost:10,goal:1e3,raised:100,isPurchased:!1,status:"ACTIVE"},{title:"Title",price:10,boost:10,goal:1e3,raised:100,isPurchased:!1,status:"ACTIVE"},{title:"Title",price:10,boost:10,goal:1e3,raised:100,isPurchased:!1,status:"ACTIVE"},{title:"Title",price:10,boost:10,goal:1e3,raised:100,isPurchased:!0,status:"ACTIVE"}]},{id:2,title:"Animals",karmaCards:[{title:"Title",price:10,boost:10,goal:1e3,raised:100,isPurchased:!1,status:"ACTIVE"},{title:"Title",price:10,boost:10,goal:1e3,raised:100,isPurchased:!1,status:"ACTIVE"},{title:"Title",price:10,boost:10,goal:1e3,raised:100,isPurchased:!1,status:"ACTIVE"},{title:"Title",price:10,boost:10,goal:1e3,raised:100,isPurchased:!1,status:"ACTIVE"}]}]}),actions:{async fetchKarma(){try{const a=(0,n.v)().ensureValidationQuery(),e=await d.A.post(`${c.$.backendURL}/api/cards/get-karma`,a);(0,k.B)(e),this.categories=e.data.data.categories}catch(a){throw console.error("Ошибка при получении карточек кармы:",a),new Error("Server error when getting karma-cards")}}},getters:{}});var m=s(5130),p=s.p+"img/card.ea080fab.png",C=s(6550),g=s(4462),_=s(6817),L=s.p+"img/card-popup.82c40954.png",b=s(5931);const E={class:"container"},h={class:"info"},y={class:"stats"},T={class:"donation-goal"},f={class:"donation-bar"},R={key:0},V={key:1},X={key:0,class:"buy-btn"},A={key:1,class:"buy-btn"};var I=(0,t.pM)({__name:"KarmaPopup",props:{karmaCard:{},modelValue:{type:Boolean}},emits:["update:modelValue"],setup(a,{emit:e}){v();const{t:s,locale:r}=(0,b.s9)(),l=a,u=e,d=()=>{u("update:modelValue",!1)},c=(0,t.EW)((()=>String(l.karmaCard.raised/l.karmaCard.goal*100)+"%"));return(a,e)=>((0,t.uX)(),(0,t.Wv)(m.eB,null,{default:(0,t.k6)((()=>[a.modelValue?((0,t.uX)(),(0,t.CE)("div",{key:0,class:"card-popup",onClick:d},[(0,t.Lk)("div",{class:"content",onClick:e[0]||(e[0]=(0,m.D$)((()=>{}),["stop"]))},[(0,t.Lk)("div",E,[(0,t.Lk)("div",{class:"photo"},[e[1]||(e[1]=(0,t.Lk)("img",{src:L,alt:""},null,-1)),(0,t.Lk)("button",{onClick:d},"+")]),(0,t.Lk)("div",h,[(0,t.Lk)("h3",null,(0,o.v_)(a.karmaCard.title),1),e[2]||(e[2]=(0,t.Lk)("p",null," Lorem ipsum dolor sit amet consectetur. Sed eros viverra aliquam commodo sit sed. Tempor cras adipiscing ut et. Quam porttitor et amet consequat molestie. Fames in non vitae in ",-1))]),e[10]||(e[10]=(0,t.Lk)("hr",null,null,-1)),(0,t.Lk)("div",y,[(0,t.Lk)("p",null,[(0,t.eW)((0,o.v_)((0,i.R1)(s)("boost"))+": + "+(0,o.v_)(a.karmaCard.boost)+" ",1),e[3]||(e[3]=(0,t.Lk)("img",{src:g,alt:""},null,-1)),(0,t.eW)(" /"+(0,o.v_)((0,i.R1)(s)("h")),1)])]),(0,t.Lk)("div",T,[(0,t.Lk)("p",null,[(0,t.eW)((0,o.v_)((0,i.R1)(s)("donation-goal"))+": "+(0,o.v_)(a.karmaCard.goal)+" ",1),e[4]||(e[4]=(0,t.Lk)("img",{src:g,alt:""},null,-1)),(0,t.eW)(" ("+(0,o.v_)((0,i.R1)(s)("last-donated"))+": "+(0,o.v_)(a.karmaCard.goal-a.karmaCard.raised)+" ",1),e[5]||(e[5]=(0,t.Lk)("img",{src:g,alt:""},null,-1)),e[6]||(e[6]=(0,t.eW)(") "))]),(0,t.Lk)("div",f,[(0,t.Lk)("div",{class:"progress",style:(0,o.Tr)({width:c.value})},null,4)]),a.karmaCard.isPurchased?((0,t.uX)(),(0,t.CE)("p",R,[(0,t.eW)((0,o.v_)((0,i.R1)(s)("you-donated"))+": "+(0,o.v_)(a.karmaCard.userDonat)+" ",1),e[7]||(e[7]=(0,t.Lk)("img",{src:g,alt:""},null,-1))])):a.karmaCard.isPurchased?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("p",V,(0,o.v_)((0,i.R1)(s)("not-donated")),1))]),a.karmaCard.isPurchased||"ACTIVE"!==a.karmaCard.status?a.karmaCard.isPurchased&&"ACTIVE"===a.karmaCard.status?((0,t.uX)(),(0,t.CE)("button",A,[(0,t.eW)((0,o.v_)((0,i.R1)(s)("donate-more"))+" ",1),e[9]||(e[9]=(0,t.Lk)("img",{src:_,alt:""},null,-1))])):(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("button",X,[(0,t.eW)((0,o.v_)((0,i.R1)(s)("donate-from"))+": "+(0,o.v_)(a.karmaCard.price)+" ",1),e[8]||(e[8]=(0,t.Lk)("img",{src:_,alt:""},null,-1))]))])])])):(0,t.Q3)("",!0)])),_:1}))}}),W=s(1241);const P=(0,W.A)(I,[["__scopeId","data-v-9e34ea74"]]);var K=P;const w={class:"card-item"},Q={key:0,class:"ellepsis ellepsis--upper"},D={key:1,class:"ellepsis ellepsis--bottom"},F={class:"content"},S={class:"info"},M={class:"card__title"},q={key:0,class:"card__boost"},$={key:1,class:"card__boost"},x={class:"footer"},B={class:"donation-goal"},O={class:"donation-bar"},U={key:0};var Y=(0,t.pM)({__name:"KarmaItem",props:{karmaCard:{}},setup(a){const{t:e,locale:s}=(0,b.s9)(),r=a,l=(0,t.EW)((()=>String(r.karmaCard.raised/r.karmaCard.goal*100)+"%")),u=(0,i.KR)(!1),d=()=>{u.value=!0};return(a,s)=>((0,t.uX)(),(0,t.CE)("div",w,[(0,t.bF)(K,{onClick:s[0]||(s[0]=(0,m.D$)((()=>{}),["stop"])),karmaCard:a.karmaCard,modelValue:u.value,"onUpdate:modelValue":s[1]||(s[1]=a=>u.value=a)},null,8,["karmaCard","modelValue"]),a.karmaCard.isPurchased?((0,t.uX)(),(0,t.CE)("div",Q)):(0,t.Q3)("",!0),a.karmaCard.isPurchased?((0,t.uX)(),(0,t.CE)("div",D)):(0,t.Q3)("",!0),(0,t.Lk)("div",F,[s[7]||(s[7]=(0,t.Lk)("div",{class:"photo"},[(0,t.Lk)("img",{src:p,alt:""})],-1)),(0,t.Lk)("div",S,[(0,t.Lk)("p",M,(0,o.v_)(a.karmaCard.title),1),"ACTIVE"===a.karmaCard.status?((0,t.uX)(),(0,t.CE)("p",q,[(0,t.eW)((0,o.v_)((0,i.R1)(e)("boost"))+": + "+(0,o.v_)(a.karmaCard.boost)+" ",1),s[2]||(s[2]=(0,t.Lk)("img",{src:C,alt:""},null,-1)),(0,t.eW)(" "+(0,o.v_)((0,i.R1)(e)("h")),1)])):"CLOSED"===a.karmaCard.status?((0,t.uX)(),(0,t.CE)("p",$,(0,o.v_)((0,i.R1)(e)("raised-all-money")),1)):(0,t.Q3)("",!0)]),s[8]||(s[8]=(0,t.Lk)("hr",null,null,-1)),(0,t.Lk)("div",x,[(0,t.Lk)("div",B,[(0,t.Lk)("p",null,[(0,t.eW)((0,o.v_)((0,i.R1)(e)("donation-goal"))+": "+(0,o.v_)(a.karmaCard.goal)+" ",1),s[3]||(s[3]=(0,t.Lk)("img",{src:g,alt:""},null,-1))]),(0,t.Lk)("div",O,[(0,t.Lk)("div",{class:"progress",style:(0,o.Tr)({width:l.value})},null,4)]),a.karmaCard.isPurchased?((0,t.uX)(),(0,t.CE)("p",U,[(0,t.eW)((0,o.v_)((0,i.R1)(e)("you-donated"))+": "+(0,o.v_)(a.karmaCard.userDonat)+" ",1),s[4]||(s[4]=(0,t.Lk)("img",{src:g,alt:""},null,-1))])):(0,t.Q3)("",!0)]),a.karmaCard.isPurchased||"ACTIVE"!==a.karmaCard.status?a.karmaCard.isPurchased&&"ACTIVE"===a.karmaCard.status?((0,t.uX)(),(0,t.CE)("button",{key:1,class:"buy-btn",onClick:d},[(0,t.eW)((0,o.v_)((0,i.R1)(e)("donate-more"))+" ",1),s[6]||(s[6]=(0,t.Lk)("img",{src:_,alt:""},null,-1))])):(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("button",{key:0,class:"buy-btn",onClick:d},[(0,t.eW)((0,o.v_)((0,i.R1)(e)("donate-from"))+" "+(0,o.v_)(a.karmaCard.price)+" ",1),s[5]||(s[5]=(0,t.Lk)("img",{src:_,alt:""},null,-1))]))])])]))}});const j=(0,W.A)(Y,[["__scopeId","data-v-a632c4a8"]]);var z=j,G=s.p+"img/recycling.e5e782f1.svg",H=s.p+"img/med.e79358aa.svg",J=s.p+"img/animals.3ae79805.svg";const N={class:"task-list"},Z={class:"nav-wrapper"},aa=["onClick"],ea=["src"],sa={key:0,class:"nav-overlay nav-overlay--left"},ta={key:1,class:"nav-overlay nav-overlay--right"},ra={class:"list"};var la=(0,t.pM)({__name:"KarmaList",setup(a){const e=v(),s=(0,i.KR)(0),r=(0,t.EW)((()=>e.categories)),l=(0,i.KR)(r.value[s.value].karmaCards),u=(0,i.KR)([G,H,J,J]),d=(0,i.KR)(u.value[0]),c=a=>{s.value=a,d.value=u.value[a],l.value=r.value[s.value].karmaCards},n=a=>a===s.value?"category-title--active":"category-title",k=(0,i.KR)(!0),m=(0,i.KR)(!1),p=a=>{const e=a.target;k.value=0===e.scrollLeft,m.value=e.scrollLeft+e.offsetWidth>=e.scrollWidth};return(a,e)=>((0,t.uX)(),(0,t.CE)("div",N,[(0,t.Lk)("div",Z,[(0,t.Lk)("div",{class:"nav no-scrollbar",onScroll:p},[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(r.value,((a,e)=>((0,t.uX)(),(0,t.CE)("button",{key:e,class:(0,o.C4)(n(e)),onClick:a=>c(e)},[a.id===s.value?((0,t.uX)(),(0,t.CE)("img",{key:0,src:d.value,alt:""},null,8,ea)):(0,t.Q3)("",!0),(0,t.eW)(" "+(0,o.v_)(a.title),1)],10,aa)))),128))],32),k.value?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",sa)),m.value?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",ta))]),(0,t.Lk)("div",ra,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.value,((a,e)=>((0,t.uX)(),(0,t.Wv)(z,{key:e,karmaCard:a},null,8,["karmaCard"])))),128))])]))}});const oa=(0,W.A)(la,[["__scopeId","data-v-bdb3f440"]]);var ia=oa;const ua={class:"quests"},da={class:"container"},ca={class:"quests-content"};var na=(0,t.pM)({__name:"KarmaSection",setup(a){return(a,e)=>((0,t.uX)(),(0,t.CE)("section",ua,[(0,t.Lk)("div",da,[(0,t.Lk)("div",ca,[(0,t.Lk)("h2",null,(0,o.v_)(a.t("karma")),1),(0,t.bF)(ia)])])]))}});const ka=(0,W.A)(na,[["__scopeId","data-v-317c175a"]]);var va=ka,ma=(0,t.pM)({__name:"KarmaView",setup(a){return(a,e)=>((0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bF)(r.A),(0,t.Lk)("main",null,[(0,t.bF)(va)]),(0,t.bF)(l.A)],64))}});const pa=ma;var Ca=pa},6817:function(a,e,s){a.exports=s.p+"img/green-coin--black.4a75e65a.svg"},6550:function(a,e,s){a.exports=s.p+"img/green-coin--light-green.21676d28.svg"},4462:function(a,e,s){a.exports=s.p+"img/green-coin.5547f652.svg"}}]);
//# sourceMappingURL=539.8e84f778.js.map