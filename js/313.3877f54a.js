"use strict";(self["webpackChunksave_world_web_tg_app"]=self["webpackChunksave_world_web_tg_app"]||[]).push([[313],{497:function(t,e,s){s.r(e),s.d(e,{default:function(){return W}});var a=s(6768),l=s(7731),i=s(7971),u=s(4232),o=s(5234),r=s(4373);const c={backendURL:"http://localhost:8000"},n=(0,o.nY)("quests",{state:()=>({categories:[{id:0,title:"Social",tasks:[{title:"Task 1"},{title:"Tasks 2"}]},{id:1,title:"Network",tasks:[{title:"Task 1"},{title:"Tasks 2"}]},{id:2,title:"Test 1",tasks:[{title:"Task 1"},{title:"Tasks 2"}]},{id:3,title:"Test 2",tasks:[{title:"Task 1"},{title:"Tasks 2"},{title:"Tasks 3"}]},{id:4,title:"Test 33",tasks:[{title:"Task 23"},{title:"Tasks 21"},{title:"Tasks 33"}]}],quests:[{title:"Quest Name 1",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis fringilla, metus sit amet volutpat convallis, neque sem ullamcorper."},{title:"Quest Name 2",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis fringilla, metus sit amet volutpat convallis, neque sem ullamcorper."},{title:"Quest Name 3",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis fringilla, metus sit amet volutpat convallis, neque sem ullamcorper."},{title:"Quest Name 4",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis fringilla, metus sit amet volutpat convallis, neque sem ullamcorper."}]}),actions:{fetchQuests(){return this.quests},async joinQuest(t){const e=await r.A.post(c.backendURL+"/orders/join-quest",{quest:t,withCredentials:!0});if(201!==e.status)throw new Error("Не удалось создать обращение. Неправильный статус ответа от сервера: "+e.status)}},getters:{}});var k=s(144);const v={class:"quest-item"};var p=(0,a.pM)({__name:"TaskItem",props:{quest:{}},setup(t){const e=n(),s=async t=>{try{await e.joinQuest(t)}catch(s){return void console.error(s)}};return(t,e)=>((0,a.uX)(),(0,a.CE)("div",v,[(0,a.Lk)("h3",null,(0,u.v_)(t.quest.title),1),(0,a.Lk)("p",null,(0,u.v_)(t.quest.description),1),(0,a.Lk)("button",{onClick:e[0]||(e[0]=e=>s(t.quest))},(0,u.v_)(t.t("accept-task")),1)]))}}),d=s(1241);const m=(0,d.A)(p,[["__scopeId","data-v-5e867c00"]]);var _=m;const g={key:0,class:"task-category__tasks"};var y=(0,a.pM)({__name:"TasksCategory",props:{activeCategory:{},category:{}},emits:["clicked"],setup(t,{emit:e}){const s=t;return(t,e)=>s.activeCategory===s.category.id?((0,a.uX)(),(0,a.CE)("div",g,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.category.tasks,((t,e)=>((0,a.uX)(),(0,a.Wv)(_,{class:"task-category__task",key:e,quest:t},null,8,["quest"])))),128))])):(0,a.Q3)("",!0)}});const C=(0,d.A)(y,[["__scopeId","data-v-be461eb8"]]);var q=C;const L={class:"quests"},T={class:"container"},b={class:"quests-content"},w={key:0,class:"promo-tasks-wrapper no-scrollbar"},h={class:"promo-tasks"},E={key:1},X={class:"regular-tasks"},f={class:"nav no-scrollbar"},Q=["onClick"];var K=(0,a.pM)({__name:"QuestsList",setup(t){const e=(0,k.KR)(10),s=(0,k.KR)(!1),l=(0,k.KR)(!1),i=n(),o=(0,a.EW)((()=>i.quests)),r=(0,k.KR)(0),c=(0,a.EW)((()=>i.categories)),v=t=>{r.value=t},p=t=>t===r.value?"category-title--active":"category-title";return(t,i)=>((0,a.uX)(),(0,a.CE)("section",L,[(0,a.Lk)("div",T,[(0,a.Lk)("div",b,[(0,a.Lk)("h2",null,[(0,a.eW)((0,u.v_)(t.t("tasks"))+" ",1),(0,a.Lk)("span",null,(0,u.v_)(e.value),1)]),s.value?((0,a.uX)(),(0,a.CE)("div",w,[(0,a.Lk)("div",h,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.value,((t,e)=>((0,a.uX)(),(0,a.Wv)(_,{key:e,quest:t},null,8,["quest"])))),128))])])):(0,a.Q3)("",!0),l.value?((0,a.uX)(),(0,a.CE)("h3",E,(0,u.v_)(t.t("weekly")),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",X,[(0,a.Lk)("div",f,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(c.value,((t,e)=>((0,a.uX)(),(0,a.CE)("button",{key:e,class:(0,u.C4)(p(e)),onClick:t=>v(e)},(0,u.v_)(t.title),11,Q)))),128))]),i[0]||(i[0]=(0,a.Lk)("hr",null,null,-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(c.value,((t,e)=>((0,a.uX)(),(0,a.Wv)(q,{class:"tasks-nav",key:e,category:t,activeCategory:r.value},null,8,["category","activeCategory"])))),128))])])])]))}});const F=(0,d.A)(K,[["__scopeId","data-v-fd5a74f0"]]);var I=F,A=(0,a.pM)({__name:"QuestsView",setup(t){return(t,e)=>((0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(l.A),(0,a.Lk)("main",null,[(0,a.bF)(I)]),(0,a.bF)(i.A)],64))}});const R=A;var W=R}}]);
//# sourceMappingURL=313.3877f54a.js.map