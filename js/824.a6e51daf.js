"use strict";(self["webpackChunksave_world_web_tg_app"]=self["webpackChunksave_world_web_tg_app"]||[]).push([[824],{9791:function(e,t,s){s.r(t),s.d(t,{default:function(){return de}});var a=s(6768),l=s(386),i=s(3981),n=s(4232),r=s(144),o=s(4462),c=s.p+"img/time.6a9b4e9f.svg",u=s(5234),v=s(4373),p=s(5903),d=s(5931),k=s(2756),g=s(5628);const h=(0,u.nY)("profile",{state:()=>({balance:4e4,newSpeed:.36,chatId:"",name:"",process:{state:"closed",remainingSeconds:122,totalProcessSeconds:28800,miningResult:300}}),actions:{setProfileVariables(e){const{locale:t}=(0,d.s9)(),s=e.process;this.process.state=s.state,"ACTIVE"===this.process.state&&(this.process.remainingSeconds=s.remainingSeconds),this.balance=e.balance,this.newSpeed=e.newSpeed,this.chatId=e.chatId,this.name=e.name,t.value=e.language||"en"},async getUserProfile(){try{const e=(0,k.v)().ensureValidationQuery(),t=await v.A.post(`${p.$.backendURL}/api/profile/myProfile`,e);(0,g.B)(t),this.setProfileVariables(t.data)}catch(e){throw console.error("Ошибка при получении профиля пользователя:",e),new Error("Server error when getting the user profile")}},async claimProcessReward(){try{const e=(0,k.v)().ensureValidationQuery(),t=await v.A.post(`${p.$.backendURL}/api/profile/myProfile`,e);(0,g.B)(t)}catch(e){throw console.error("Ошибка при получении награды за процесс:",e),new Error("Server error when claiming reward")}}},getters:{getBalance(e){return e.balance},getNewSpeed(e){return e.newSpeed.toFixed(2)},getRemainingSeconds(e){return e.process.remainingSeconds},getTotalProcessSeconds(e){return e.process.totalProcessSeconds},getProcessState(e){return e.process.state}}});var m=s(2225);const L={class:"stats-section"},_={class:"container"},w={class:"stats-content"},y={class:"stats-wrapper"},b={class:"stats__item stats__item--balance"},S={class:"amount"},f={class:"stats__item stats__item--mining-speed"},P={class:"amount"},B={class:"mining-progress-wrapper"},E={class:"mining-progress-bar"},R={class:"interface"},W={class:"time"},C={key:1,class:"progress"},V={class:"interface"},A={class:"time"};var X=(0,a.pM)({__name:"StatsSection",setup(e){const{t:t,locale:s}=(0,d.s9)(),l=h(),i=(0,a.EW)((()=>l.getNewSpeed)),u=(0,a.EW)((()=>l.getBalance)),v=(0,a.EW)((()=>l.getProcessState)),p=(0,a.EW)((()=>"active"===v.value?"claim-button--active":"claim-button")),k=(0,a.EW)((()=>l.getRemainingSeconds)),g=(0,a.EW)((()=>l.getTotalProcessSeconds)),X=(0,a.EW)((()=>String(k.value/g.value*100)+"%")),T=(0,r.KR)(Math.floor(k.value/60)),I=(0,r.KR)(k.value%60),Q=()=>{l.claimProcessReward()},$=async()=>{try{await l.getUserProfile()}catch(e){m.B.emit("showErrorPopup",e.message)}};return(0,a.sV)((async()=>{await $()})),(e,s)=>((0,a.uX)(),(0,a.CE)("section",L,[(0,a.Lk)("div",_,[(0,a.Lk)("div",w,[(0,a.Lk)("div",y,[(0,a.Lk)("div",b,[(0,a.Lk)("p",null,(0,n.v_)((0,r.R1)(t)("your-balance")),1),(0,a.Lk)("div",S,[(0,a.eW)((0,n.v_)(u.value)+" ",1),s[0]||(s[0]=(0,a.Lk)("img",{src:o,alt:""},null,-1))])]),(0,a.Lk)("div",f,[(0,a.Lk)("p",null,(0,n.v_)((0,r.R1)(t)("mining-speed")),1),(0,a.Lk)("div",P,[(0,a.eW)(" + "+(0,n.v_)(i.value)+"/"+(0,n.v_)((0,r.R1)(t)("h"))+" ",1),s[1]||(s[1]=(0,a.Lk)("img",{src:o,alt:""},null,-1))])])]),(0,a.Lk)("div",B,[(0,a.Lk)("div",E,["active"===v.value?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"progress",style:(0,n.Tr)({width:X.value})},[(0,a.Lk)("div",R,[(0,a.Lk)("button",{onClick:Q},"Claim"),(0,a.Lk)("div",W,[s[2]||(s[2]=(0,a.Lk)("img",{src:c,alt:""},null,-1)),(0,a.Lk)("p",null,(0,n.v_)(T.value)+" "+(0,n.v_)((0,r.R1)(t)("h"))+" "+(0,n.v_)(I.value)+" "+(0,n.v_)((0,r.R1)(t)("m")),1)])])],4)):(0,a.Q3)("",!0),"closed"===v.value?((0,a.uX)(),(0,a.CE)("div",C,[(0,a.Lk)("div",V,[(0,a.Lk)("button",{onClick:Q,class:(0,n.C4)(p.value)},(0,n.v_)((0,r.R1)(t)("claim")),3),(0,a.Lk)("div",A,[s[3]||(s[3]=(0,a.Lk)("img",{src:c,alt:""},null,-1)),(0,a.Lk)("p",null,(0,n.v_)(T.value)+" "+(0,n.v_)((0,r.R1)(t)("h"))+" "+(0,n.v_)(I.value)+" "+(0,n.v_)((0,r.R1)(t)("m")),1)])])])):(0,a.Q3)("",!0)])])])])]))}}),T=s(1241);const I=(0,T.A)(X,[["__scopeId","data-v-63b3fb05"]]);var Q=I,$=s.p+"img/bg-earth-vectors.e11176ba.svg",K=s.p+"img/earth.9898a300.png";const M={class:"logo"};var U=(0,a.pM)({__name:"EarthSection",setup(e){const t=()=>{m.B.emit("toggleWorldStatictics",!0)};return(e,s)=>((0,a.uX)(),(0,a.CE)("section",M,[(0,a.Lk)("div",{class:"container"},[(0,a.Lk)("div",{class:"logo-wrapper",onClick:t},s[0]||(s[0]=[(0,a.Lk)("div",{class:"background"},[(0,a.Lk)("img",{src:$,alt:""})],-1),(0,a.Lk)("div",{class:"circle"},null,-1),(0,a.Lk)("img",{class:"earth",src:K,alt:""},null,-1)]))])]))}});const Y=(0,T.A)(U,[["__scopeId","data-v-fd3c2016"]]);var F=Y;const N=(0,u.nY)("world-population",{state:()=>({worldPopulation:{}}),actions:{async getWorldPopulation(){try{const e=await v.A.get(`${p.$.worldPopulationURL}`);return e.data}catch(e){throw console.error("Ошибка при получении данных о населении:",e),new Error("Server error when getting the population statistics")}}},getters:{}}),x={class:"world-population-section"},H={class:"container"},D={class:"world-population-content"},G={class:"stats-list"},j={class:"stats-item"},q={class:"title"},z={class:"stats-item"},J={class:"title"},O={class:"stats-item"},Z={class:"title"},ee={class:"stats-item"},te={class:"title"},se={class:"stats-item"},ae={class:"title"},le={class:"stats-item"},ie={class:"title"},ne={class:"stats-item"},re={class:"title"};var oe=(0,a.pM)({__name:"TheWorldPopulation",setup(e){const t=(0,r.KR)(""),s=N();return(0,a.sV)((async()=>{m.B.emit("toggleHeaderBackBtnVisibility",!0);try{t.value=await s.getWorldPopulation()}catch(e){m.B.emit("showErrorPopup",e.message)}})),(0,a.xo)((()=>{m.B.emit("toggleHeaderBackBtnVisibility",!1)})),(e,s)=>((0,a.uX)(),(0,a.CE)("section",x,[(0,a.Lk)("div",H,[(0,a.Lk)("div",D,[s[13]||(s[13]=(0,a.Lk)("h2",null,"World Population",-1)),(0,a.Lk)("div",G,[(0,a.Lk)("div",j,[(0,a.Lk)("p",q,(0,n.v_)(t.value.population),1),s[0]||(s[0]=(0,a.Lk)("p",{class:"hint"},"Current World Population",-1))]),s[7]||(s[7]=(0,a.Lk)("hr",null,null,-1)),(0,a.Lk)("div",z,[(0,a.Lk)("p",J,(0,n.v_)(t.value.birthsYear),1),s[1]||(s[1]=(0,a.Lk)("p",{class:"hint"},"Births this year",-1))]),s[8]||(s[8]=(0,a.Lk)("hr",null,null,-1)),(0,a.Lk)("div",O,[(0,a.Lk)("p",Z,(0,n.v_)(t.value.birthsToday),1),s[2]||(s[2]=(0,a.Lk)("p",{class:"hint"},"Births today",-1))]),s[9]||(s[9]=(0,a.Lk)("hr",null,null,-1)),(0,a.Lk)("div",ee,[(0,a.Lk)("p",te,(0,n.v_)(t.value.deathsYear),1),s[3]||(s[3]=(0,a.Lk)("p",{class:"hint"},"Deaths this year",-1))]),s[10]||(s[10]=(0,a.Lk)("hr",null,null,-1)),(0,a.Lk)("div",se,[(0,a.Lk)("p",ae,(0,n.v_)(t.value.deathsToday),1),s[4]||(s[4]=(0,a.Lk)("p",{class:"hint"},"Deaths today",-1))]),s[11]||(s[11]=(0,a.Lk)("hr",null,null,-1)),(0,a.Lk)("div",le,[(0,a.Lk)("p",ie,(0,n.v_)(t.value.netPopulationGrowthYear),1),s[5]||(s[5]=(0,a.Lk)("p",{class:"hint"},"Net population growth this year",-1))]),s[12]||(s[12]=(0,a.Lk)("hr",null,null,-1)),(0,a.Lk)("div",ne,[(0,a.Lk)("p",re,(0,n.v_)(t.value.netPopulationGrowthToday),1),s[6]||(s[6]=(0,a.Lk)("p",{class:"hint"},"Net population growth today",-1))])])])])]))}});const ce=(0,T.A)(oe,[["__scopeId","data-v-54e10760"]]);var ue=ce,ve=(0,a.pM)({__name:"HomeView",setup(e){const t=(0,r.KR)(!1);return(0,a.sV)((()=>{m.B.on("toggleWorldStatictics",(e=>{t.value=e})),m.B.on("headerBackBtnPressed",(()=>{t.value=!1}))})),(0,a.hi)((()=>{m.B.off("toggleWorldStatictics"),m.B.off("headerBackBtnPressed")})),(e,s)=>((0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(l.A),(0,a.Lk)("main",null,[t.value?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(Q,{key:0})),t.value?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(F,{key:1})),t.value?((0,a.uX)(),(0,a.Wv)(ue,{key:2})):(0,a.Q3)("",!0)]),(0,a.bF)(i.A)],64))}});const pe=ve;var de=pe},4462:function(e,t,s){e.exports=s.p+"img/green-coin.5547f652.svg"}}]);
//# sourceMappingURL=824.a6e51daf.js.map