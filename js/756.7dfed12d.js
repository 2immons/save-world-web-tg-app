"use strict";(self["webpackChunksave_world_web_tg_app"]=self["webpackChunksave_world_web_tg_app"]||[]).push([[756],{7411:function(t,s,e){e.r(s),e.d(s,{default:function(){return V}});var a=e(6768),l=e(3084),i=e(794),o=e(4232),r=e(5234),c=e(4373);const u={backendURL:"http://localhost:8000"},n=(0,r.nY)("quests",{state:()=>({categories:[{id:0,title:"Social",tasks:[{title:"Task 1"},{title:"Tasks 2"},{title:"Task 1"},{title:"Tasks 2"},{title:"Tasks 3"}]},{id:1,title:"Network",tasks:[{title:"Task 1"},{title:"Tasks 2"},{title:"Task 1"},{title:"Tasks 2"},{title:"Tasks 3"},{title:"Task 1"},{title:"Tasks 2"},{title:"Tasks 3"}]},{id:2,title:"Test 1",tasks:[{title:"Task 1"},{title:"Tasks 2"},{title:"Task 1"},{title:"Tasks 2"},{title:"Tasks 3"}]},{id:3,title:"Test 2",tasks:[{title:"Task 1"},{title:"Tasks 2"},{title:"Tasks 3"},{title:"Task 1"},{title:"Tasks 2"},{title:"Tasks 3"},{title:"Task 1"},{title:"Tasks 2"},{title:"Tasks 3"}]},{id:4,title:"Test 33",tasks:[{title:"Task 23"},{title:"Tasks 21"},{title:"Tasks 33"},{title:"Task 1"},{title:"Tasks 2"},{title:"Tasks 3"}]}],promoTasks:[{title:"Quest Name 1",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis fringilla, metus sit amet volutpat convallis, neque sem ullamcorper."},{title:"Quest Name 2",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis fringilla, metus sit amet volutpat convallis, neque sem ullamcorper."},{title:"Quest Name 3",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis fringilla, metus sit amet volutpat convallis, neque sem ullamcorper."},{title:"Quest Name 4",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis fringilla, metus sit amet volutpat convallis, neque sem ullamcorper."}]}),actions:{fetchQuests(){return this.promoTasks},async joinQuest(t){const s=await c.A.post(u.backendURL+"/orders/join-quest",{quest:t,withCredentials:!0});if(201!==s.status)throw new Error("Не удалось создать обращение. Неправильный статус ответа от сервера: "+s.status)}},getters:{}});var k=e(144),v=e.p+"img/battery.98ea1765.svg",p=e.p+"img/green-coin.689827ac.svg";const d={class:"quest-item"},m={class:"left-side"},T={class:"info"};var g=(0,a.pM)({__name:"TaskItem",props:{quest:{}},setup(t){const s=n(),e=async t=>{try{await s.joinQuest(t)}catch(e){return void console.error(e)}};return(t,s)=>((0,a.uX)(),(0,a.CE)("div",d,[(0,a.Lk)("div",m,[s[2]||(s[2]=(0,a.Lk)("img",{src:v,alt:""},null,-1)),(0,a.Lk)("div",T,[(0,a.Lk)("h3",null,(0,o.v_)(t.quest.title),1),s[1]||(s[1]=(0,a.Lk)("div",{class:"income"},[(0,a.Lk)("p",null,"+ 699"),(0,a.Lk)("img",{src:p,alt:""})],-1))])]),(0,a.Lk)("button",{onClick:s[0]||(s[0]=s=>e(t.quest))},(0,o.v_)(t.t("accept-task")),1)]))}}),y=e(1241);const _=(0,y.A)(g,[["__scopeId","data-v-0b149ae2"]]);var L=_;const C={key:0,class:"task-category__tasks"};var f=(0,a.pM)({__name:"TasksCategory",props:{activeCategory:{},category:{}},emits:["clicked"],setup(t,{emit:s}){const e=t;return(t,s)=>e.activeCategory===e.category.id?((0,a.uX)(),(0,a.CE)("div",C,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.category.tasks,((t,s)=>((0,a.uX)(),(0,a.Wv)(L,{class:"task-category__task",key:s,quest:t},null,8,["quest"])))),128))])):(0,a.Q3)("",!0)}});const q=(0,y.A)(f,[["__scopeId","data-v-142d42b4"]]);var E=q;const b={class:"quests"},h={class:"container"},w={class:"quests-content"},X={key:0,class:"promo-tasks-wrapper no-scrollbar"},Q={class:"promo-tasks"},K={key:1},F={class:"regular-tasks"},I={class:"nav-wrapper"},R={class:"nav no-scrollbar"},W=["onClick"],A={key:0,class:"nav-overlay nav-overlay--left"},N={key:1,class:"nav-overlay nav-overlay--right"};var D=(0,a.pM)({__name:"TasksSection",setup(t){const s=(0,k.KR)(!0),e=(0,k.KR)(!1),l=t=>{const a=t.target;s.value=0===a.scrollLeft,e.value=a.scrollLeft+a.offsetWidth>=a.scrollWidth};(0,a.sV)((()=>{const t=document.querySelector(".nav");t&&t.addEventListener("scroll",l)}));const i=(0,k.KR)(10),r=(0,k.KR)(!1),c=(0,k.KR)(!1),u=n(),v=(0,a.EW)((()=>u.promoTasks)),p=(0,k.KR)(0),d=(0,a.EW)((()=>u.categories)),m=t=>{p.value=t},T=t=>t===p.value?"category-title--active":"category-title";return(t,l)=>((0,a.uX)(),(0,a.CE)("section",b,[(0,a.Lk)("div",h,[(0,a.Lk)("div",w,[(0,a.Lk)("h2",null,[(0,a.eW)((0,o.v_)(t.t("tasks"))+" ",1),(0,a.Lk)("span",null,(0,o.v_)(i.value),1)]),r.value?((0,a.uX)(),(0,a.CE)("div",X,[(0,a.Lk)("div",Q,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(v.value,((t,s)=>((0,a.uX)(),(0,a.Wv)(L,{key:s,quest:t},null,8,["quest"])))),128))])])):(0,a.Q3)("",!0),c.value?((0,a.uX)(),(0,a.CE)("h3",K,(0,o.v_)(t.t("weekly")),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",F,[(0,a.Lk)("div",I,[(0,a.Lk)("div",R,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(d.value,((t,s)=>((0,a.uX)(),(0,a.CE)("button",{key:s,class:(0,o.C4)(T(s)),onClick:t=>m(s)},(0,o.v_)(t.title),11,W)))),128))]),s.value?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",A)),e.value?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",N))]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(d.value,((t,s)=>((0,a.uX)(),(0,a.Wv)(E,{class:"tasks-nav",key:s,category:t,activeCategory:p.value},null,8,["category","activeCategory"])))),128))])])])]))}});const M=(0,y.A)(D,[["__scopeId","data-v-828c24aa"]]);var j=M,S=(0,a.pM)({__name:"TasksView",setup(t){return(t,s)=>((0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(l.A),(0,a.Lk)("main",null,[(0,a.bF)(j)]),(0,a.bF)(i.A)],64))}});const U=S;var V=U}}]);
//# sourceMappingURL=756.7dfed12d.js.map