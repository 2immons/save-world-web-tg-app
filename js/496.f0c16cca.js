"use strict";(self["webpackChunksave_world_web_tg_app"]=self["webpackChunksave_world_web_tg_app"]||[]).push([[496],{1241:function(a,e){e.A=(a,e)=>{const t=a.__vccOpts||a;for(const[s,r]of e)t[s]=r;return t}},6311:function(a,e,t){t.d(e,{A:function(){return A}});var s=t(6768),r=t(4232),l=t.p+"img/home.57a09072.svg",i=t.p+"img/tasks.0c2a5f02.svg",o=t.p+"img/mining.43e8cd0a.svg",n=t.p+"img/karma.0e9901cf.svg",c=t.p+"img/frens.48f51b71.svg",u=t(144),d=t(2225);const v={key:0},k={class:"container"},m={class:"footer-content"},p={key:0,src:l,alt:""},g={key:1,class:"active-nav-item"},C={key:0,src:i,alt:""},_={key:1,class:"active-nav-item"},h={key:0,src:o,alt:""},L={key:1,class:"active-nav-item"},b={key:0,src:n,alt:""},f={key:1,class:"active-nav-item"},y={key:0,src:c,alt:""},E={key:1,class:"active-nav-item"};var X=(0,s.pM)({__name:"TheFooter",setup(a){const e=(0,u.KR)(!0);return(0,s.sV)((()=>{d.B.on("toggleFooterVisibility",(a=>{e.value=a}))})),(0,s.hi)((()=>{d.B.off("toggleFooterVisibility")})),(a,t)=>{const u=(0,s.g2)("router-link");return e.value?((0,s.uX)(),(0,s.CE)("footer",v,[(0,s.Lk)("div",k,[(0,s.Lk)("nav",m,[(0,s.bF)(u,{to:"/",class:(0,r.C4)({"ac-nav-item":"/"===a.$route.path,"nav-item":"/"!==a.$route.path})},{default:(0,s.k6)((()=>["/"!==a.$route.path?((0,s.uX)(),(0,s.CE)("img",p)):(0,s.Q3)("",!0),"/"===a.$route.path?((0,s.uX)(),(0,s.CE)("div",g,[t[0]||(t[0]=(0,s.Lk)("img",{src:l,alt:""},null,-1)),(0,s.Lk)("p",null,(0,r.v_)(a.t("home")),1)])):(0,s.Q3)("",!0)])),_:1},8,["class"]),(0,s.bF)(u,{to:"/tasks",class:(0,r.C4)({"ac-nav-item":"/tasks"===a.$route.path,"nav-item":"/tasks"!==a.$route.path})},{default:(0,s.k6)((()=>["/tasks"!==a.$route.path?((0,s.uX)(),(0,s.CE)("img",C)):(0,s.Q3)("",!0),"/tasks"===a.$route.path?((0,s.uX)(),(0,s.CE)("div",_,[t[1]||(t[1]=(0,s.Lk)("img",{src:i,alt:""},null,-1)),(0,s.Lk)("p",null,(0,r.v_)(a.t("tasks")),1)])):(0,s.Q3)("",!0)])),_:1},8,["class"]),(0,s.bF)(u,{to:"/mining",class:(0,r.C4)({"ac-nav-item":"/mining"===a.$route.path,"nav-item":"/mining"!==a.$route.path})},{default:(0,s.k6)((()=>["/mining"!==a.$route.path?((0,s.uX)(),(0,s.CE)("img",h)):(0,s.Q3)("",!0),"/mining"===a.$route.path?((0,s.uX)(),(0,s.CE)("div",L,[t[2]||(t[2]=(0,s.Lk)("img",{src:o,alt:""},null,-1)),(0,s.Lk)("p",null,(0,r.v_)(a.t("mining")),1)])):(0,s.Q3)("",!0)])),_:1},8,["class"]),(0,s.bF)(u,{to:"/karma",class:(0,r.C4)({"ac-nav-item":"/karma"===a.$route.path,"nav-item":"/karma"!==a.$route.path})},{default:(0,s.k6)((()=>["/karma"!==a.$route.path?((0,s.uX)(),(0,s.CE)("img",b)):(0,s.Q3)("",!0),"/karma"===a.$route.path?((0,s.uX)(),(0,s.CE)("div",f,[t[3]||(t[3]=(0,s.Lk)("img",{src:n,alt:""},null,-1)),(0,s.Lk)("p",null,(0,r.v_)(a.t("karma")),1)])):(0,s.Q3)("",!0)])),_:1},8,["class"]),(0,s.bF)(u,{to:"/friends",class:(0,r.C4)({"ac-nav-item":"/friends"===a.$route.path,"nav-item":"/friends"!==a.$route.path})},{default:(0,s.k6)((()=>["/friends"!==a.$route.path?((0,s.uX)(),(0,s.CE)("img",y)):(0,s.Q3)("",!0),"/friends"===a.$route.path?((0,s.uX)(),(0,s.CE)("div",E,[t[4]||(t[4]=(0,s.Lk)("img",{src:c,alt:""},null,-1)),(0,s.Lk)("p",null,(0,r.v_)(a.t("frens")),1)])):(0,s.Q3)("",!0)])),_:1},8,["class"])])])])):(0,s.Q3)("",!0)}}}),T=t(1241);const V=(0,T.A)(X,[["__scopeId","data-v-c73e5768"]]);var A=V},193:function(a,e,t){t.d(e,{A:function(){return h}});var s=t(6768),r=t(4232),l=t.p+"img/back-btn.c27f779a.svg",i=t.p+"img/settings.3acc1d2e.svg",o=t(144),n=t(2225),c=t(2756),u=t(5931);const d={class:"container"},v={class:"header-content"},k={class:"user"},m={class:"user-wrapper"},p=["src"];var g={__name:"TheHeader",setup(a){const{t:e,locale:t}=(0,u.s9)(),g=(0,o.KR)(!1),C=(0,o.KR)(!1),_=(0,s.EW)((()=>(0,c.v)().userData)),h=(0,o.KR)(""),L=(0,s.EW)((()=>(0,c.v)().telegramWebApp.isFullscreen));(0,s.wB)(L,(a=>{h.value=a?"header-margin-calc":"header-margin-default"}),{immediate:!0}),(0,s.sV)((()=>{n.B.on("toggleHeaderBackBtnVisibility",(a=>{g.value=a})),n.B.on("disableSettingButton",(a=>{C.value=a}))})),(0,s.hi)((()=>{n.B.off("toggleHeaderBackBtnVisibility"),n.B.off("toggleSettingsButton")}));const b=()=>{n.B.emit("headerBackBtnPressed")};return(a,e)=>{const t=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("header",{class:(0,r.C4)(h.value)},[(0,s.Lk)("div",d,[(0,s.Lk)("div",v,[g.value?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"back-btn",onClick:b},e[0]||(e[0]=[(0,s.Lk)("img",{src:l,alt:""},null,-1)]))):(0,s.Q3)("",!0),(0,s.Lk)("div",k,[(0,s.Lk)("div",m,[(0,s.Lk)("img",{src:_.value.avatar,alt:"Avatar"},null,8,p),(0,s.Lk)("p",null,(0,r.v_)(_.value.username),1)])]),C.value?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(t,{key:1,to:"/settings",class:"settings-wrapper"},{default:(0,s.k6)((()=>e[1]||(e[1]=[(0,s.Lk)("img",{src:i,alt:"Настройки"},null,-1)]))),_:1}))])])],2)}}},C=t(1241);const _=(0,C.A)(g,[["__scopeId","data-v-213c605f"]]);var h=_},517:function(a,e,t){t.r(e),t.d(e,{default:function(){return _a}});var s=t(6768),r=t(193),l=t(6311),i=t(4232),o=t(144),n=t(5234),c=t(4373),u=t(5903),d=t(2756),v=t(5628);const k=(0,n.nY)("karma",{state:()=>({categories:[{id:0,title:"Recycle",karmaCards:[{title:"Title",price:10,boost:10,goal:1e3,raised:100,isPurchased:!1,userDonat:0,status:"ACTIVE"},{title:"Title",price:10,boost:10,goal:1e3,raised:100,userDonat:12,isPurchased:!0,status:"ACTIVE"},{title:"Title",price:10,boost:10,goal:1e3,raised:1e3,userDonat:12,isPurchased:!0,status:"CLOSED"}]},{id:1,title:"Medicine",karmaCards:[{title:"Title",price:10,boost:10,goal:1e3,raised:100,isPurchased:!1,status:"ACTIVE"},{title:"Title",price:10,boost:10,goal:1e3,raised:100,isPurchased:!1,status:"ACTIVE"},{title:"Title",price:10,boost:10,goal:1e3,raised:100,isPurchased:!1,status:"ACTIVE"},{title:"Title",price:10,boost:10,goal:1e3,raised:100,isPurchased:!0,status:"ACTIVE"}]},{id:2,title:"Animals",karmaCards:[{title:"Title",price:10,boost:10,goal:1e3,raised:100,isPurchased:!1,status:"ACTIVE"},{title:"Title",price:10,boost:10,goal:1e3,raised:100,isPurchased:!1,status:"ACTIVE"},{title:"Title",price:10,boost:10,goal:1e3,raised:100,isPurchased:!1,status:"ACTIVE"},{title:"Title",price:10,boost:10,goal:1e3,raised:100,isPurchased:!1,status:"ACTIVE"}]}]}),actions:{async fetchKarma(){try{const a=(0,d.v)().getInitData,e=await c.A.post(`${u.$.backendURL}/api/cards/get-karma`,a);(0,v.B)(e),this.categories=e.data.data.categories}catch(a){throw console.error("Ошибка при получении карточек кармы:",a),new Error("Server error when getting karma-cards")}}},getters:{}});var m=t(5130),p=t.p+"img/card.ea080fab.png",g=t(6550),C=t(4462),_=t(6817),h=t.p+"img/card-popup.82c40954.png",L=t(5931);const b={class:"container"},f={class:"wrapper no-scrollbar"},y={class:"info"},E={class:"stats"},X={class:"donation-goal"},T={class:"donation-bar"},V={key:0},A={key:1},R={key:0,class:"buy-btn"},W={key:1,class:"buy-btn"},I=50;var Q=(0,s.pM)({__name:"KarmaPopup",props:{karmaCard:{},modelValue:{type:Boolean}},emits:["update:modelValue"],setup(a,{emit:e}){k();const{t:t,locale:r}=(0,L.s9)(),l=a,n=e,c=()=>{n("update:modelValue",!1)},u=(0,s.EW)((()=>String(l.karmaCard.raised/l.karmaCard.goal*100)+"%")),d=(0,o.KR)(0),v=(0,o.KR)(0),p=a=>{d.value=a.touches[0].clientY},g=a=>{v.value=a.touches[0].clientY},Q=()=>{v.value-d.value>I&&c()};return(0,s.sV)((async()=>{l.modelValue&&document.body.classList.add("no-scroll")})),(0,s.xo)((()=>{document.body.classList.remove("no-scroll")})),(0,s.wB)((()=>l.modelValue),(a=>{a?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll")})),(a,e)=>((0,s.uX)(),(0,s.Wv)(m.eB,null,{default:(0,s.k6)((()=>[a.modelValue?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"card-popup",onClick:c,onTouchstart:p,onTouchmove:g,onTouchend:Q},[(0,s.Lk)("div",{class:"content",onClick:e[0]||(e[0]=(0,m.D$)((()=>{}),["stop"]))},[(0,s.Lk)("div",b,[(0,s.Lk)("div",f,[(0,s.Lk)("div",{class:"photo"},[e[1]||(e[1]=(0,s.Lk)("img",{src:h,alt:""},null,-1)),(0,s.Lk)("button",{onClick:c},"+")]),(0,s.Lk)("div",y,[(0,s.Lk)("h3",null,(0,i.v_)(a.karmaCard.title),1),e[2]||(e[2]=(0,s.Lk)("p",null," Lorem ipsum dolor sit amet consectetur. Sed eros viverra aliquam commodo sit sed. Tempor cras adipiscing ut et. Quam porttitor et amet consequat molestie. Fames in non vitae in ",-1))]),e[10]||(e[10]=(0,s.Lk)("hr",null,null,-1)),(0,s.Lk)("div",E,[(0,s.Lk)("p",null,[(0,s.eW)((0,i.v_)((0,o.R1)(t)("boost"))+": + "+(0,i.v_)(a.karmaCard.boost)+" ",1),e[3]||(e[3]=(0,s.Lk)("img",{src:C,alt:""},null,-1)),(0,s.eW)(" /"+(0,i.v_)((0,o.R1)(t)("h")),1)])]),(0,s.Lk)("div",X,[(0,s.Lk)("p",null,[(0,s.eW)((0,i.v_)((0,o.R1)(t)("donation-goal"))+": "+(0,i.v_)(a.karmaCard.goal)+" ",1),e[4]||(e[4]=(0,s.Lk)("img",{src:C,alt:""},null,-1)),(0,s.eW)(" ("+(0,i.v_)((0,o.R1)(t)("last-donated"))+": "+(0,i.v_)(a.karmaCard.goal-a.karmaCard.raised)+" ",1),e[5]||(e[5]=(0,s.Lk)("img",{src:C,alt:""},null,-1)),e[6]||(e[6]=(0,s.eW)(") "))]),(0,s.Lk)("div",T,[(0,s.Lk)("div",{class:"progress",style:(0,i.Tr)({width:u.value})},null,4)]),a.karmaCard.isPurchased?((0,s.uX)(),(0,s.CE)("p",V,[(0,s.eW)((0,i.v_)((0,o.R1)(t)("you-donated"))+": "+(0,i.v_)(a.karmaCard.userDonat)+" ",1),e[7]||(e[7]=(0,s.Lk)("img",{src:C,alt:""},null,-1))])):a.karmaCard.isPurchased?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("p",A,(0,i.v_)((0,o.R1)(t)("not-donated")),1))]),a.karmaCard.isPurchased||"ACTIVE"!==a.karmaCard.status?a.karmaCard.isPurchased&&"ACTIVE"===a.karmaCard.status?((0,s.uX)(),(0,s.CE)("button",W,[(0,s.eW)((0,i.v_)((0,o.R1)(t)("donate-more"))+" ",1),e[9]||(e[9]=(0,s.Lk)("img",{src:_,alt:""},null,-1))])):(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("button",R,[(0,s.eW)((0,i.v_)((0,o.R1)(t)("donate-from"))+": "+(0,i.v_)(a.karmaCard.price)+" ",1),e[8]||(e[8]=(0,s.Lk)("img",{src:_,alt:""},null,-1))]))])])])],32)):(0,s.Q3)("",!0)])),_:1}))}}),$=t(1241);const K=(0,$.A)(Q,[["__scopeId","data-v-370f6f68"]]);var P=K;const B={class:"card-item"},w={key:0,class:"ellepsis ellepsis--upper"},F={key:1,class:"ellepsis ellepsis--bottom"},D={class:"content"},S={class:"info"},M={class:"card__title"},q={key:0,class:"card__boost"},x={key:1,class:"card__boost"},H={class:"footer"},O={class:"donation-goal"},Y={class:"donation-bar"},U={key:0};var j=(0,s.pM)({__name:"KarmaItem",props:{karmaCard:{}},setup(a){const{t:e,locale:t}=(0,L.s9)(),r=a,l=(0,s.EW)((()=>String(r.karmaCard.raised/r.karmaCard.goal*100)+"%")),n=(0,o.KR)(!1),c=()=>{n.value=!0};return(a,t)=>((0,s.uX)(),(0,s.CE)("div",B,[(0,s.bF)(P,{onClick:t[0]||(t[0]=(0,m.D$)((()=>{}),["stop"])),karmaCard:a.karmaCard,modelValue:n.value,"onUpdate:modelValue":t[1]||(t[1]=a=>n.value=a)},null,8,["karmaCard","modelValue"]),a.karmaCard.isPurchased?((0,s.uX)(),(0,s.CE)("div",w)):(0,s.Q3)("",!0),a.karmaCard.isPurchased?((0,s.uX)(),(0,s.CE)("div",F)):(0,s.Q3)("",!0),(0,s.Lk)("div",D,[t[7]||(t[7]=(0,s.Lk)("div",{class:"photo"},[(0,s.Lk)("img",{src:p,alt:""})],-1)),(0,s.Lk)("div",S,[(0,s.Lk)("p",M,(0,i.v_)(a.karmaCard.title),1),"ACTIVE"===a.karmaCard.status?((0,s.uX)(),(0,s.CE)("p",q,[(0,s.eW)((0,i.v_)((0,o.R1)(e)("boost"))+": + "+(0,i.v_)(a.karmaCard.boost)+" ",1),t[2]||(t[2]=(0,s.Lk)("img",{src:g,alt:""},null,-1)),(0,s.eW)(" "+(0,i.v_)((0,o.R1)(e)("h")),1)])):"CLOSED"===a.karmaCard.status?((0,s.uX)(),(0,s.CE)("p",x,(0,i.v_)((0,o.R1)(e)("raised-all-money")),1)):(0,s.Q3)("",!0)]),t[8]||(t[8]=(0,s.Lk)("hr",null,null,-1)),(0,s.Lk)("div",H,[(0,s.Lk)("div",O,[(0,s.Lk)("p",null,[(0,s.eW)((0,i.v_)((0,o.R1)(e)("donation-goal"))+": "+(0,i.v_)(a.karmaCard.goal)+" ",1),t[3]||(t[3]=(0,s.Lk)("img",{src:C,alt:""},null,-1))]),(0,s.Lk)("div",Y,[(0,s.Lk)("div",{class:"progress",style:(0,i.Tr)({width:l.value})},null,4)]),a.karmaCard.isPurchased?((0,s.uX)(),(0,s.CE)("p",U,[(0,s.eW)((0,i.v_)((0,o.R1)(e)("you-donated"))+": "+(0,i.v_)(a.karmaCard.userDonat)+" ",1),t[4]||(t[4]=(0,s.Lk)("img",{src:C,alt:""},null,-1))])):(0,s.Q3)("",!0)]),a.karmaCard.isPurchased||"ACTIVE"!==a.karmaCard.status?a.karmaCard.isPurchased&&"ACTIVE"===a.karmaCard.status?((0,s.uX)(),(0,s.CE)("button",{key:1,class:"buy-btn",onClick:c},[(0,s.eW)((0,i.v_)((0,o.R1)(e)("donate-more"))+" ",1),t[6]||(t[6]=(0,s.Lk)("img",{src:_,alt:""},null,-1))])):(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("button",{key:0,class:"buy-btn",onClick:c},[(0,s.eW)((0,i.v_)((0,o.R1)(e)("donate-from"))+" "+(0,i.v_)(a.karmaCard.price)+" ",1),t[5]||(t[5]=(0,s.Lk)("img",{src:_,alt:""},null,-1))]))])])]))}});const z=(0,$.A)(j,[["__scopeId","data-v-abcbdc68"]]);var G=z,J=t.p+"img/recycling.e5e782f1.svg",N=t.p+"img/med.e79358aa.svg",Z=t.p+"img/animals.3ae79805.svg";const aa={class:"task-list"},ea={class:"nav-wrapper"},ta=["onClick"],sa=["src"],ra={key:0,class:"nav-overlay nav-overlay--left"},la={key:1,class:"nav-overlay nav-overlay--right"},ia={class:"list"};var oa=(0,s.pM)({__name:"KarmaList",setup(a){const e=k(),t=(0,o.KR)(0),r=(0,s.EW)((()=>e.categories)),l=(0,o.KR)(r.value[t.value].karmaCards),n=(0,o.KR)([J,N,Z,Z]),c=(0,o.KR)(n.value[0]),u=a=>{t.value=a,c.value=n.value[a],l.value=r.value[t.value].karmaCards},d=a=>a===t.value?"category-title--active":"category-title",v=(0,o.KR)(!0),m=(0,o.KR)(!1),p=a=>{const e=a.target;v.value=0===e.scrollLeft,m.value=e.scrollLeft+e.offsetWidth>=e.scrollWidth};return(a,e)=>((0,s.uX)(),(0,s.CE)("div",aa,[(0,s.Lk)("div",ea,[(0,s.Lk)("div",{class:"nav no-scrollbar",onScroll:p},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.value,((a,e)=>((0,s.uX)(),(0,s.CE)("button",{key:e,class:(0,i.C4)(d(e)),onClick:a=>u(e)},[a.id===t.value?((0,s.uX)(),(0,s.CE)("img",{key:0,src:c.value,alt:""},null,8,sa)):(0,s.Q3)("",!0),(0,s.eW)(" "+(0,i.v_)(a.title),1)],10,ta)))),128))],32),v.value?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",ra)),m.value?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",la))]),(0,s.Lk)("div",ia,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.value,((a,e)=>((0,s.uX)(),(0,s.Wv)(G,{key:e,karmaCard:a},null,8,["karmaCard"])))),128))])]))}});const na=(0,$.A)(oa,[["__scopeId","data-v-0a13deda"]]);var ca=na;const ua={class:"quests"},da={class:"container"},va={class:"quests-content"};var ka=(0,s.pM)({__name:"KarmaSection",setup(a){return(a,e)=>((0,s.uX)(),(0,s.CE)("section",ua,[(0,s.Lk)("div",da,[(0,s.Lk)("div",va,[(0,s.Lk)("h2",null,(0,i.v_)(a.t("karma")),1),(0,s.bF)(ca)])])]))}});const ma=(0,$.A)(ka,[["__scopeId","data-v-317c175a"]]);var pa=ma,ga=(0,s.pM)({__name:"KarmaView",setup(a){return(a,e)=>((0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(r.A),(0,s.Lk)("main",null,[(0,s.bF)(pa)]),(0,s.bF)(l.A)],64))}});const Ca=ga;var _a=Ca},6817:function(a,e,t){a.exports=t.p+"img/green-coin--black.4a75e65a.svg"},6550:function(a,e,t){a.exports=t.p+"img/green-coin--light-green.21676d28.svg"},4462:function(a,e,t){a.exports=t.p+"img/green-coin.5547f652.svg"}}]);
//# sourceMappingURL=496.f0c16cca.js.map